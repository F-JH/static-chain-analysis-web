import{c as Eo,a as No,s as dt,f as Bn,i as Io,b as be,d as So,e as j,u as ae,g as B,o as y,h as K,j as O,r as x,n as L,k as A,l as M,w as v,m as c,p as Ct,q as re,E as Ce,t as G,v as ge,T as kt,_ as ie,x as Pe,y as ve,z as Xe,A as pe,B as qe,C as Z,D as wt,F as Et,G as $o,H as Nt,I as Ue,J as Do,K as de,L as me,M as Fo,N as Ln,O as J,P as ce,Q as xe,R as To,S as It,U as $,V as et,W as V,X as Ie,Y as Ze,Z as Ke,$ as Oo,a0 as Re,a1 as rn,a2 as Q,a3 as Bo,a4 as Ye,a5 as X,a6 as An,a7 as Se,a8 as Lo,a9 as Ao,aa as Kn,ab as ue,ac as Ko,ad as on,ae as St,af as tt,ag as Po,ah as Pn,ai as $e,aj as Rn,ak as Ro,al as kn,am as Mo,an as $t,ao as Ne,ap as se,aq as dn,ar as Dt,as as _o,at as Le,au as it,av as zo,aw as xt,ax as Ft,ay as Vo,az as qo,aA as Uo,aB as Ho,aC as Ee,aD as Go,aE as un,aF as jo,aG as Wo,aH as Mn,aI as Qo,aJ as Yo,aK as Jo,aL as wn,aM as En,aN as Xo,aO as ln,aP as en,aQ as Zo,aR as xo,aS as el,aT as tl,aU as nl,aV as ol,aW as ll,aX as sl,aY as _n,aZ as al,a_ as il,a$ as rl,b0 as dl,b1 as ul,b2 as cl,b3 as fl,b4 as pl,b5 as hl,b6 as vt,b7 as ml}from"./index-7b8ecc6f.js";import{u as Tt,d as vl,a as gl,E as bl,b as yl,c as Ot,e as cn,f as zn,g as Cl,i as Nn,h as In,U as Fe,s as kl,j as wl,C as Vn,k as fn,l as El,m as Nl,n as Il,o as qn,p as Un,q as Hn,r as Gn,t as jn,v as Sn}from"./CredentialUrl-d0c5048c.js";const Sl=(e="")=>e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ae=e=>Eo(e),$l=e=>No[e||"default"],Dl=e=>({focus:()=>{var t,n;(n=(t=e.value)==null?void 0:t.focus)==null||n.call(t)}}),Fl=(e,t,n)=>Bn(e.subTree).filter(a=>{var s;return Io(a)&&((s=a.type)==null?void 0:s.name)===t&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),Tl=(e,t)=>{const n={},l=dt([]);return{children:l,addChild:s=>{n[s.uid]=s,l.value=Fl(e,t,n)},removeChild:s=>{delete n[s],l.value=l.value.filter(r=>r.uid!==s)}}},Wn=be({closable:Boolean,type:{type:String,values:["success","info","warning","danger",""],default:""},hit:Boolean,disableTransitions:Boolean,color:{type:String,default:""},size:{type:String,values:So,default:""},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),Ol={close:e=>e instanceof MouseEvent,click:e=>e instanceof MouseEvent},Bl=j({name:"ElTag"}),Ll=j({...Bl,props:Wn,emits:Ol,setup(e,{emit:t}){const n=e,l=Tt(),o=ae("tag"),a=B(()=>{const{type:d,hit:g,effect:m,closable:u,round:h}=n;return[o.b(),o.is("closable",u),o.m(d),o.m(l.value),o.m(m),o.is("hit",g),o.is("round",h)]}),s=d=>{t("close",d)},r=d=>{t("click",d)};return(d,g)=>d.disableTransitions?(y(),K("span",{key:0,class:L(A(a)),style:ge({backgroundColor:d.color}),onClick:r},[O("span",{class:L(A(o).e("content"))},[x(d.$slots,"default")],2),d.closable?(y(),M(A(Ce),{key:0,class:L(A(o).e("close")),onClick:re(s,["stop"])},{default:v(()=>[c(A(Ct))]),_:1},8,["class","onClick"])):G("v-if",!0)],6)):(y(),M(kt,{key:1,name:`${A(o).namespace.value}-zoom-in-center`,appear:""},{default:v(()=>[O("span",{class:L(A(a)),style:ge({backgroundColor:d.color}),onClick:r},[O("span",{class:L(A(o).e("content"))},[x(d.$slots,"default")],2),d.closable?(y(),M(A(Ce),{key:0,class:L(A(o).e("close")),onClick:re(s,["stop"])},{default:v(()=>[c(A(Ct))]),_:1},8,["class","onClick"])):G("v-if",!0)],6)]),_:3},8,["name"]))}});var Al=ie(Ll,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tag/src/tag.vue"]]);const Kl=Pe(Al),Qn=Symbol("rowContextKey"),Pl=["start","center","end","space-around","space-between","space-evenly"],Rl=["top","middle","bottom"],Ml=be({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:Pl,default:"start"},align:{type:String,values:Rl,default:"top"}}),_l=j({name:"ElRow"}),zl=j({..._l,props:Ml,setup(e){const t=e,n=ae("row"),l=B(()=>t.gutter);ve(Qn,{gutter:l});const o=B(()=>{const s={};return t.gutter&&(s.marginRight=s.marginLeft=`-${t.gutter/2}px`),s}),a=B(()=>[n.b(),n.is(`justify-${t.justify}`,t.justify!=="start"),n.is(`align-${t.align}`,t.align!=="top")]);return(s,r)=>(y(),M(Xe(s.tag),{class:L(A(a)),style:ge(A(o))},{default:v(()=>[x(s.$slots,"default")]),_:3},8,["class","style"]))}});var Vl=ie(zl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/row/src/row.vue"]]);const Yn=Pe(Vl),ql=be({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:pe([Number,Object]),default:()=>qe({})},sm:{type:pe([Number,Object]),default:()=>qe({})},md:{type:pe([Number,Object]),default:()=>qe({})},lg:{type:pe([Number,Object]),default:()=>qe({})},xl:{type:pe([Number,Object]),default:()=>qe({})}}),Ul=j({name:"ElCol"}),Hl=j({...Ul,props:ql,setup(e){const t=e,{gutter:n}=Z(Qn,{gutter:B(()=>0)}),l=ae("col"),o=B(()=>{const s={};return n.value&&(s.paddingLeft=s.paddingRight=`${n.value/2}px`),s}),a=B(()=>{const s=[];return["span","offset","pull","push"].forEach(g=>{const m=t[g];wt(m)&&(g==="span"?s.push(l.b(`${t[g]}`)):m>0&&s.push(l.b(`${g}-${t[g]}`)))}),["xs","sm","md","lg","xl"].forEach(g=>{wt(t[g])?s.push(l.b(`${g}-${t[g]}`)):Et(t[g])&&Object.entries(t[g]).forEach(([m,u])=>{s.push(m!=="span"?l.b(`${g}-${m}-${u}`):l.b(`${g}-${u}`))})}),n.value&&s.push(l.is("guttered")),[l.b(),s]});return(s,r)=>(y(),M(Xe(s.tag),{class:L(A(a)),style:ge(A(o))},{default:v(()=>[x(s.$slots,"default")]),_:3},8,["class","style"]))}});var Gl=ie(Hl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/col/src/col.vue"]]);const Jn=Pe(Gl),pn=Symbol("elDescriptions");var rt=j({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String},type:{type:String}},setup(){return{descriptions:Z(pn,{})}},render(){var e,t,n,l,o,a;const s=$o(this.cell),{border:r,direction:d}=this.descriptions,g=d==="vertical",m=((n=(t=(e=this.cell)==null?void 0:e.children)==null?void 0:t.label)==null?void 0:n.call(t))||s.label,u=(a=(o=(l=this.cell)==null?void 0:l.children)==null?void 0:o.default)==null?void 0:a.call(o),h=s.span,p=s.align?`is-${s.align}`:"",w=s.labelAlign?`is-${s.labelAlign}`:p,i=s.className,b=s.labelClassName,I={width:Nt(s.width),minWidth:Nt(s.minWidth)},S=ae("descriptions");switch(this.type){case"label":return Ue(this.tag,{style:I,class:[S.e("cell"),S.e("label"),S.is("bordered-label",r),S.is("vertical-label",g),w,b],colSpan:g?h:1},m);case"content":return Ue(this.tag,{style:I,class:[S.e("cell"),S.e("content"),S.is("bordered-content",r),S.is("vertical-content",g),p,i],colSpan:g?h:h*2-1},u);default:return Ue("td",{style:I,class:[S.e("cell"),p],colSpan:h},[Do(m)?void 0:Ue("span",{class:[S.e("label"),b]},m),Ue("span",{class:[S.e("content"),i]},u)])}}});const jl=be({row:{type:Array,default:()=>[]}}),Wl={key:1},Ql=j({name:"ElDescriptionsRow"}),Yl=j({...Ql,props:jl,setup(e){const t=Z(pn,{});return(n,l)=>A(t).direction==="vertical"?(y(),K(de,{key:0},[O("tr",null,[(y(!0),K(de,null,me(n.row,(o,a)=>(y(),M(A(rt),{key:`tr1-${a}`,cell:o,tag:"th",type:"label"},null,8,["cell"]))),128))]),O("tr",null,[(y(!0),K(de,null,me(n.row,(o,a)=>(y(),M(A(rt),{key:`tr2-${a}`,cell:o,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(y(),K("tr",Wl,[(y(!0),K(de,null,me(n.row,(o,a)=>(y(),K(de,{key:`tr3-${a}`},[A(t).border?(y(),K(de,{key:0},[c(A(rt),{cell:o,tag:"td",type:"label"},null,8,["cell"]),c(A(rt),{cell:o,tag:"td",type:"content"},null,8,["cell"])],64)):(y(),M(A(rt),{key:1,cell:o,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var Jl=ie(Yl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/descriptions-row.vue"]]);const Xl=be({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:Fo,title:{type:String,default:""},extra:{type:String,default:""}}),Zl=j({name:"ElDescriptions"}),xl=j({...Zl,props:Xl,setup(e){const t=e,n=ae("descriptions"),l=Tt(),o=Ln();ve(pn,t);const a=B(()=>[n.b(),n.m(l.value)]),s=(d,g,m,u=!1)=>(d.props||(d.props={}),g>m&&(d.props.span=m),u&&(d.props.span=g),d),r=()=>{var d;const g=Bn((d=o.default)==null?void 0:d.call(o)).filter(w=>{var i;return((i=w==null?void 0:w.type)==null?void 0:i.name)==="ElDescriptionsItem"}),m=[];let u=[],h=t.column,p=0;return g.forEach((w,i)=>{var b;const I=((b=w.props)==null?void 0:b.span)||1;if(i<g.length-1&&(p+=I>h?h:I),i===g.length-1){const S=t.column-p%t.column;u.push(s(w,S,h,!0)),m.push(u);return}I<h?(h-=I,u.push(w)):(u.push(s(w,I,h)),m.push(u),h=t.column,u=[])}),m};return(d,g)=>(y(),K("div",{class:L(A(a))},[d.title||d.extra||d.$slots.title||d.$slots.extra?(y(),K("div",{key:0,class:L(A(n).e("header"))},[O("div",{class:L(A(n).e("title"))},[x(d.$slots,"title",{},()=>[J(ce(d.title),1)])],2),O("div",{class:L(A(n).e("extra"))},[x(d.$slots,"extra",{},()=>[J(ce(d.extra),1)])],2)],2)):G("v-if",!0),O("div",{class:L(A(n).e("body"))},[O("table",{class:L([A(n).e("table"),A(n).is("bordered",d.border)])},[O("tbody",null,[(y(!0),K(de,null,me(r(),(m,u)=>(y(),M(Jl,{key:u,row:m},null,8,["row"]))),128))])],2)],2)],2))}});var es=ie(xl,[["__file","/home/runner/work/element-plus/element-plus/packages/components/descriptions/src/description.vue"]]),Xn=j({name:"ElDescriptionsItem",props:{label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}});const Zn=Pe(es,{DescriptionsItem:Xn}),xn=xe(Xn),ts=be({...vl,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0}}),ns=gl,os=j({name:"ElDrawer",components:{ElOverlay:bl,ElFocusTrap:To,ElIcon:Ce,Close:Ct},inheritAttrs:!1,props:ts,emits:ns,setup(e,{slots:t}){It({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},B(()=>!!t.title)),It({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},B(()=>!!e.customClass));const n=$(),l=$(),o=ae("drawer"),{t:a}=et(),s=B(()=>e.direction==="rtl"||e.direction==="ltr"),r=B(()=>Nt(e.size));return{...yl(e,n),drawerRef:n,focusStartRef:l,isHorizontal:s,drawerSize:r,ns:o,t:a}}}),ls=["aria-label","aria-labelledby","aria-describedby"],ss=["id"],as=["aria-label"],is=["id"];function rs(e,t,n,l,o,a){const s=V("close"),r=V("el-icon"),d=V("el-focus-trap"),g=V("el-overlay");return y(),M(Oo,{to:"body",disabled:!e.appendToBody},[c(kt,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:v(()=>[Ie(c(g,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:v(()=>[c(d,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:v(()=>[O("div",Ze({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:t[1]||(t[1]=re(()=>{},["stop"]))}),[O("span",{ref:"focusStartRef",class:L(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(y(),K("header",{key:0,class:L(e.ns.e("header"))},[e.$slots.title?x(e.$slots,"title",{key:1},()=>[G(" DEPRECATED SLOT ")]):x(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?G("v-if",!0):(y(),K("span",{key:0,id:e.titleId,role:"heading",class:L(e.ns.e("title"))},ce(e.title),11,ss))]),e.showClose?(y(),K("button",{key:2,"aria-label":e.t("el.drawer.close"),class:L(e.ns.e("close-btn")),type:"button",onClick:t[0]||(t[0]=(...m)=>e.handleClose&&e.handleClose(...m))},[c(r,{class:L(e.ns.e("close"))},{default:v(()=>[c(s)]),_:1},8,["class"])],10,as)):G("v-if",!0)],2)):G("v-if",!0),e.rendered?(y(),K("div",{key:1,id:e.bodyId,class:L(e.ns.e("body"))},[x(e.$slots,"default")],10,is)):G("v-if",!0),e.$slots.footer?(y(),K("div",{key:2,class:L(e.ns.e("footer"))},[x(e.$slots,"footer")],2)):G("v-if",!0)],16,ls)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Ke,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var ds=ie(os,[["render",rs],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const eo=Pe(ds),us=j({inheritAttrs:!1});function cs(e,t,n,l,o,a){return x(e.$slots,"default")}var fs=ie(us,[["render",cs],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const ps=j({name:"ElCollectionItem",inheritAttrs:!1});function hs(e,t,n,l,o,a){return x(e.$slots,"default")}var ms=ie(ps,[["render",hs],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const to="data-el-collection-item",no=e=>{const t=`El${e}Collection`,n=`${t}Item`,l=Symbol(t),o=Symbol(n),a={...fs,name:t,setup(){const r=$(null),d=new Map;ve(l,{itemMap:d,getItems:()=>{const m=A(r);if(!m)return[];const u=Array.from(m.querySelectorAll(`[${to}]`));return[...d.values()].sort((p,w)=>u.indexOf(p.ref)-u.indexOf(w.ref))},collectionRef:r})}},s={...ms,name:n,setup(r,{attrs:d}){const g=$(null),m=Z(l,void 0);ve(o,{collectionItemRef:g}),Re(()=>{const u=A(g);u&&m.itemMap.set(u,{ref:u,...d})}),rn(()=>{const u=A(g);m.itemMap.delete(u)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:o,ElCollection:a,ElCollectionItem:s}},vs=be({style:{type:pe([String,Array,Object])},currentTabId:{type:pe(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:pe(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:gs,ElCollectionItem:bs,COLLECTION_INJECTION_KEY:hn,COLLECTION_ITEM_INJECTION_KEY:ys}=no("RovingFocusGroup"),mn=Symbol("elRovingFocusGroup"),oo=Symbol("elRovingFocusGroupItem"),Cs={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},ks=(e,t)=>{if(t!=="rtl")return e;switch(e){case Q.right:return Q.left;case Q.left:return Q.right;default:return e}},ws=(e,t,n)=>{const l=ks(e.key,n);if(!(t==="vertical"&&[Q.left,Q.right].includes(l))&&!(t==="horizontal"&&[Q.up,Q.down].includes(l)))return Cs[l]},Es=(e,t)=>e.map((n,l)=>e[(l+t)%e.length]),vn=e=>{const{activeElement:t}=document;for(const n of e)if(n===t||(n.focus(),t!==document.activeElement))return},$n="currentTabIdChange",Dn="rovingFocusGroup.entryFocus",Ns={bubbles:!1,cancelable:!0},Is=j({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:vs,emits:[$n,"entryFocus"],setup(e,{emit:t}){var n;const l=$((n=e.currentTabId||e.defaultCurrentTabId)!=null?n:null),o=$(!1),a=$(!1),s=$(null),{getItems:r}=Z(hn,void 0),d=B(()=>[{outline:"none"},e.style]),g=i=>{t($n,i)},m=()=>{o.value=!0},u=Se(i=>{var b;(b=e.onMousedown)==null||b.call(e,i)},()=>{a.value=!0}),h=Se(i=>{var b;(b=e.onFocus)==null||b.call(e,i)},i=>{const b=!A(a),{target:I,currentTarget:S}=i;if(I===S&&b&&!A(o)){const H=new Event(Dn,Ns);if(S==null||S.dispatchEvent(H),!H.defaultPrevented){const _=r().filter(E=>E.focusable),q=_.find(E=>E.active),W=_.find(E=>E.id===A(l)),ne=[q,W,..._].filter(Boolean).map(E=>E.ref);vn(ne)}}a.value=!1}),p=Se(i=>{var b;(b=e.onBlur)==null||b.call(e,i)},()=>{o.value=!1}),w=(...i)=>{t("entryFocus",...i)};ve(mn,{currentTabbedId:Bo(l),loop:Ye(e,"loop"),tabIndex:B(()=>A(o)?-1:0),rovingFocusGroupRef:s,rovingFocusGroupRootStyle:d,orientation:Ye(e,"orientation"),dir:Ye(e,"dir"),onItemFocus:g,onItemShiftTab:m,onBlur:p,onFocus:h,onMousedown:u}),X(()=>e.currentTabId,i=>{l.value=i??null}),An(s,Dn,w)}});function Ss(e,t,n,l,o,a){return x(e.$slots,"default")}var $s=ie(Is,[["render",Ss],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Ds=j({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:gs,ElRovingFocusGroupImpl:$s}});function Fs(e,t,n,l,o,a){const s=V("el-roving-focus-group-impl"),r=V("el-focus-group-collection");return y(),M(r,null,{default:v(()=>[c(s,Lo(Ao(e.$attrs)),{default:v(()=>[x(e.$slots,"default")]),_:3},16)]),_:3})}var Ts=ie(Ds,[["render",Fs],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Os=j({components:{ElRovingFocusCollectionItem:bs},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:t}){const{currentTabbedId:n,loop:l,onItemFocus:o,onItemShiftTab:a}=Z(mn,void 0),{getItems:s}=Z(hn,void 0),r=Kn(),d=$(null),g=Se(p=>{t("mousedown",p)},p=>{e.focusable?o(A(r)):p.preventDefault()}),m=Se(p=>{t("focus",p)},()=>{o(A(r))}),u=Se(p=>{t("keydown",p)},p=>{const{key:w,shiftKey:i,target:b,currentTarget:I}=p;if(w===Q.tab&&i){a();return}if(b!==I)return;const S=ws(p);if(S){p.preventDefault();let _=s().filter(q=>q.focusable).map(q=>q.ref);switch(S){case"last":{_.reverse();break}case"prev":case"next":{S==="prev"&&_.reverse();const q=_.indexOf(I);_=l.value?Es(_,q+1):_.slice(q+1);break}}ue(()=>{vn(_)})}}),h=B(()=>n.value===A(r));return ve(oo,{rovingFocusGroupItemRef:d,tabIndex:B(()=>A(h)?0:-1),handleMousedown:g,handleFocus:m,handleKeydown:u}),{id:r,handleKeydown:u,handleFocus:m,handleMousedown:g}}});function Bs(e,t,n,l,o,a){const s=V("el-roving-focus-collection-item");return y(),M(s,{id:e.id,focusable:e.focusable,active:e.active},{default:v(()=>[x(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Ls=ie(Os,[["render",Bs],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const As=be({trigger:Ko.trigger,effect:{...on.effect,default:"light"},type:{type:pe(String)},placement:{type:pe(String),default:"bottom"},popperOptions:{type:pe(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:pe([Number,String]),default:0},maxHeight:{type:pe([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:pe(Object)},teleported:on.teleported}),lo=be({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:St}}),Ks=be({onKeydown:{type:pe(Function)}}),Ps=[Q.down,Q.pageDown,Q.home],so=[Q.up,Q.pageUp,Q.end],Rs=[...Ps,...so],{ElCollection:Ms,ElCollectionItem:_s,COLLECTION_INJECTION_KEY:zs,COLLECTION_ITEM_INJECTION_KEY:Vs}=no("Dropdown"),Bt=Symbol("elDropdown"),{ButtonGroup:qs}=Ot,Us=j({name:"ElDropdown",components:{ElButton:Ot,ElButtonGroup:qs,ElScrollbar:cn,ElDropdownCollection:Ms,ElTooltip:tt,ElRovingFocusGroup:Ts,ElOnlyChild:Po,ElIcon:Ce,ArrowDown:Pn},props:As,emits:["visible-change","click","command"],setup(e,{emit:t}){const n=$e(),l=ae("dropdown"),{t:o}=et(),a=$(),s=$(),r=$(null),d=$(null),g=$(null),m=$(null),u=$(!1),h=[Q.enter,Q.space,Q.down],p=B(()=>({maxHeight:Nt(e.maxHeight)})),w=B(()=>[l.m(_.value)]),i=Kn().value,b=B(()=>e.id||i);X([a,Ye(e,"trigger")],([F,k],[z])=>{var C,R,De;const Me=Ro(k)?k:[k];(C=z==null?void 0:z.$el)!=null&&C.removeEventListener&&z.$el.removeEventListener("pointerenter",W),(R=F==null?void 0:F.$el)!=null&&R.removeEventListener&&F.$el.removeEventListener("pointerenter",W),(De=F==null?void 0:F.$el)!=null&&De.addEventListener&&Me.includes("hover")&&F.$el.addEventListener("pointerenter",W)},{immediate:!0}),rn(()=>{var F,k;(k=(F=a.value)==null?void 0:F.$el)!=null&&k.removeEventListener&&a.value.$el.removeEventListener("pointerenter",W)});function I(){S()}function S(){var F;(F=r.value)==null||F.onClose()}function H(){var F;(F=r.value)==null||F.onOpen()}const _=Tt();function q(...F){t("command",...F)}function W(){var F,k;(k=(F=a.value)==null?void 0:F.$el)==null||k.focus()}function ee(){}function ne(){const F=A(d);F==null||F.focus(),m.value=null}function E(F){m.value=F}function D(F){u.value||(F.preventDefault(),F.stopImmediatePropagation())}function T(){t("visible-change",!0)}function Y(F){(F==null?void 0:F.type)==="keydown"&&d.value.focus()}function te(){t("visible-change",!1)}return ve(Bt,{contentRef:d,role:B(()=>e.role),triggerId:b,isUsingKeyboard:u,onItemEnter:ee,onItemLeave:ne}),ve("elDropdown",{instance:n,dropdownSize:_,handleClick:I,commandHandler:q,trigger:Ye(e,"trigger"),hideOnClick:Ye(e,"hideOnClick")}),{t:o,ns:l,scrollbar:g,wrapStyle:p,dropdownTriggerKls:w,dropdownSize:_,triggerId:b,triggerKeys:h,currentTabId:m,handleCurrentTabIdChange:E,handlerMainButtonClick:F=>{t("click",F)},handleEntryFocus:D,handleClose:S,handleOpen:H,handleBeforeShowTooltip:T,handleShowTooltip:Y,handleBeforeHideTooltip:te,onFocusAfterTrapped:F=>{var k,z;F.preventDefault(),(z=(k=d.value)==null?void 0:k.focus)==null||z.call(k,{preventScroll:!0})},popperRef:r,contentRef:d,triggeringElementRef:a,referenceElementRef:s}}});function Hs(e,t,n,l,o,a){var s;const r=V("el-dropdown-collection"),d=V("el-roving-focus-group"),g=V("el-scrollbar"),m=V("el-only-child"),u=V("el-tooltip"),h=V("el-button"),p=V("arrow-down"),w=V("el-icon"),i=V("el-button-group");return y(),K("div",{class:L([e.ns.b(),e.ns.is("disabled",e.disabled)])},[c(u,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(s=e.referenceElementRef)==null?void 0:s.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},Rn({content:v(()=>[c(g,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:v(()=>[c(d,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:v(()=>[c(r,null,{default:v(()=>[x(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:v(()=>[c(m,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:v(()=>[x(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(y(),M(i,{key:0},{default:v(()=>[c(h,Ze({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:v(()=>[x(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),c(h,Ze({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:v(()=>[c(w,{class:L(e.ns.e("icon"))},{default:v(()=>[c(p)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):G("v-if",!0)],2)}var Gs=ie(Us,[["render",Hs],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const js=j({name:"DropdownItemImpl",components:{ElIcon:Ce},props:lo,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:t}){const n=ae("dropdown"),{role:l}=Z(Bt,void 0),{collectionItemRef:o}=Z(Vs,void 0),{collectionItemRef:a}=Z(ys,void 0),{rovingFocusGroupItemRef:s,tabIndex:r,handleFocus:d,handleKeydown:g,handleMousedown:m}=Z(oo,void 0),u=zn(o,a,s),h=B(()=>l.value==="menu"?"menuitem":l.value==="navigation"?"link":"button"),p=Se(w=>{const{code:i}=w;if(i===Q.enter||i===Q.space)return w.preventDefault(),w.stopImmediatePropagation(),t("clickimpl",w),!0},g);return{ns:n,itemRef:u,dataset:{[to]:""},role:h,tabIndex:r,handleFocus:d,handleKeydown:p,handleMousedown:m}}}),Ws=["aria-disabled","tabindex","role"];function Qs(e,t,n,l,o,a){const s=V("el-icon");return y(),K(de,null,[e.divided?(y(),K("li",Ze({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):G("v-if",!0),O("li",Ze({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:t[0]||(t[0]=r=>e.$emit("clickimpl",r)),onFocus:t[1]||(t[1]=(...r)=>e.handleFocus&&e.handleFocus(...r)),onKeydown:t[2]||(t[2]=re((...r)=>e.handleKeydown&&e.handleKeydown(...r),["self"])),onMousedown:t[3]||(t[3]=(...r)=>e.handleMousedown&&e.handleMousedown(...r)),onPointermove:t[4]||(t[4]=r=>e.$emit("pointermove",r)),onPointerleave:t[5]||(t[5]=r=>e.$emit("pointerleave",r))}),[e.icon?(y(),M(s,{key:0},{default:v(()=>[(y(),M(Xe(e.icon)))]),_:1})):G("v-if",!0),x(e.$slots,"default")],16,Ws)],64)}var Ys=ie(js,[["render",Qs],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const ao=()=>{const e=Z("elDropdown",{}),t=B(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:t}},Js=j({name:"ElDropdownItem",components:{ElDropdownCollectionItem:_s,ElRovingFocusItem:Ls,ElDropdownItemImpl:Ys},inheritAttrs:!1,props:lo,emits:["pointermove","pointerleave","click"],setup(e,{emit:t,attrs:n}){const{elDropdown:l}=ao(),o=$e(),a=$(null),s=B(()=>{var p,w;return(w=(p=A(a))==null?void 0:p.textContent)!=null?w:""}),{onItemEnter:r,onItemLeave:d}=Z(Bt,void 0),g=Se(p=>(t("pointermove",p),p.defaultPrevented),kn(p=>{if(e.disabled){d(p);return}const w=p.currentTarget;w===document.activeElement||w.contains(document.activeElement)||(r(p),p.defaultPrevented||w==null||w.focus())})),m=Se(p=>(t("pointerleave",p),p.defaultPrevented),kn(p=>{d(p)})),u=Se(p=>{if(!e.disabled)return t("click",p),p.type!=="keydown"&&p.defaultPrevented},p=>{var w,i,b;if(e.disabled){p.stopImmediatePropagation();return}(w=l==null?void 0:l.hideOnClick)!=null&&w.value&&((i=l.handleClick)==null||i.call(l)),(b=l.commandHandler)==null||b.call(l,e.command,o,p)}),h=B(()=>({...e,...n}));return{handleClick:u,handlePointerMove:g,handlePointerLeave:m,textContent:s,propsAndAttrs:h}}});function Xs(e,t,n,l,o,a){var s;const r=V("el-dropdown-item-impl"),d=V("el-roving-focus-item"),g=V("el-dropdown-collection-item");return y(),M(g,{disabled:e.disabled,"text-value":(s=e.textValue)!=null?s:e.textContent},{default:v(()=>[c(d,{focusable:!e.disabled},{default:v(()=>[c(r,Ze(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:v(()=>[x(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var io=ie(Js,[["render",Xs],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const Zs=j({name:"ElDropdownMenu",props:Ks,setup(e){const t=ae("dropdown"),{_elDropdownSize:n}=ao(),l=n.value,{focusTrapRef:o,onKeydown:a}=Z(Mo,void 0),{contentRef:s,role:r,triggerId:d}=Z(Bt,void 0),{collectionRef:g,getItems:m}=Z(zs,void 0),{rovingFocusGroupRef:u,rovingFocusGroupRootStyle:h,tabIndex:p,onBlur:w,onFocus:i,onMousedown:b}=Z(mn,void 0),{collectionRef:I}=Z(hn,void 0),S=B(()=>[t.b("menu"),t.bm("menu",l==null?void 0:l.value)]),H=zn(s,g,o,u,I),_=Se(W=>{var ee;(ee=e.onKeydown)==null||ee.call(e,W)},W=>{const{currentTarget:ee,code:ne,target:E}=W;if(ee.contains(E),Q.tab===ne&&W.stopImmediatePropagation(),W.preventDefault(),E!==A(s)||!Rs.includes(ne))return;const T=m().filter(Y=>!Y.disabled).map(Y=>Y.ref);so.includes(ne)&&T.reverse(),vn(T)});return{size:l,rovingFocusGroupRootStyle:h,tabIndex:p,dropdownKls:S,role:r,triggerId:d,dropdownListWrapperRef:H,handleKeydown:W=>{_(W),a(W)},onBlur:w,onFocus:i,onMousedown:b}}}),xs=["role","aria-labelledby"];function ea(e,t,n,l,o,a){return y(),K("ul",{ref:e.dropdownListWrapperRef,class:L(e.dropdownKls),style:ge(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:t[0]||(t[0]=(...s)=>e.onBlur&&e.onBlur(...s)),onFocus:t[1]||(t[1]=(...s)=>e.onFocus&&e.onFocus(...s)),onKeydown:t[2]||(t[2]=re((...s)=>e.handleKeydown&&e.handleKeydown(...s),["self"])),onMousedown:t[3]||(t[3]=re((...s)=>e.onMousedown&&e.onMousedown(...s),["self"]))},[x(e.$slots,"default")],46,xs)}var ro=ie(Zs,[["render",ea],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const Lt=Pe(Gs,{DropdownItem:io,DropdownMenu:ro}),At=xe(io);xe(ro);const uo=Symbol("ElSelectGroup"),Kt=Symbol("ElSelect");function ta(e,t){const n=Z(Kt),l=Z(uo,{disabled:!1}),o=B(()=>Object.prototype.toString.call(e.value).toLowerCase()==="[object object]"),a=B(()=>n.props.multiple?u(n.props.modelValue,e.value):h(e.value,n.props.modelValue)),s=B(()=>{if(n.props.multiple){const i=n.props.modelValue||[];return!a.value&&i.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),r=B(()=>e.label||(o.value?"":e.value)),d=B(()=>e.value||e.label||""),g=B(()=>e.disabled||t.groupDisabled||s.value),m=$e(),u=(i=[],b)=>{if(o.value){const I=n.props.valueKey;return i&&i.some(S=>$t(Ne(S,I))===Ne(b,I))}else return i&&i.includes(b)},h=(i,b)=>{if(o.value){const{valueKey:I}=n.props;return Ne(i,I)===Ne(b,I)}else return i===b},p=()=>{!e.disabled&&!l.disabled&&(n.hoverIndex=n.optionsArray.indexOf(m.proxy))};X(()=>r.value,()=>{!e.created&&!n.props.remote&&n.setSelected()}),X(()=>e.value,(i,b)=>{const{remote:I,valueKey:S}=n.props;if(Object.is(i,b)||(n.onOptionDestroy(b,m.proxy),n.onOptionCreate(m.proxy)),!e.created&&!I){if(S&&typeof i=="object"&&typeof b=="object"&&i[S]===b[S])return;n.setSelected()}}),X(()=>l.disabled,()=>{t.groupDisabled=l.disabled},{immediate:!0});const{queryChange:w}=$t(n);return X(w,i=>{const{query:b}=A(i),I=new RegExp(Sl(b),"i");t.visible=I.test(r.value)||e.created,t.visible||n.filteredOptionsCount--},{immediate:!0}),{select:n,currentLabel:r,currentValue:d,itemSelected:a,isDisabled:g,hoverItem:p}}const na=j({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:{type:Boolean,default:!1}},setup(e){const t=ae("select"),n=se({index:-1,groupDisabled:!1,visible:!0,hitState:!1,hover:!1}),{currentLabel:l,itemSelected:o,isDisabled:a,select:s,hoverItem:r}=ta(e,n),{visible:d,hover:g}=dn(n),m=$e().proxy;s.onOptionCreate(m),rn(()=>{const h=m.value,{selected:p}=s,i=(s.props.multiple?p:[p]).some(b=>b.value===m.value);ue(()=>{s.cachedOptions.get(h)===m&&!i&&s.cachedOptions.delete(h)}),s.onOptionDestroy(h,m)});function u(){e.disabled!==!0&&n.groupDisabled!==!0&&s.handleOptionSelect(m,!0)}return{ns:t,currentLabel:l,itemSelected:o,isDisabled:a,select:s,hoverItem:r,visible:d,hover:g,selectOptionClick:u,states:n}}});function oa(e,t,n,l,o,a){return Ie((y(),K("li",{class:L([e.ns.be("dropdown","item"),e.ns.is("disabled",e.isDisabled),{selected:e.itemSelected,hover:e.hover}]),onMouseenter:t[0]||(t[0]=(...s)=>e.hoverItem&&e.hoverItem(...s)),onClick:t[1]||(t[1]=re((...s)=>e.selectOptionClick&&e.selectOptionClick(...s),["stop"]))},[x(e.$slots,"default",{},()=>[O("span",null,ce(e.currentLabel),1)])],34)),[[Ke,e.visible]])}var gn=ie(na,[["render",oa],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option.vue"]]);const la=j({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const e=Z(Kt),t=ae("select"),n=B(()=>e.props.popperClass),l=B(()=>e.props.multiple),o=B(()=>e.props.fitInputWidth),a=$("");function s(){var r;a.value=`${(r=e.selectWrapper)==null?void 0:r.offsetWidth}px`}return Re(()=>{s(),Dt(e.selectWrapper,s)}),{ns:t,minWidth:a,popperClass:n,isMultiple:l,isFitInputWidth:o}}});function sa(e,t,n,l,o,a){return y(),K("div",{class:L([e.ns.b("dropdown"),e.ns.is("multiple",e.isMultiple),e.popperClass]),style:ge({[e.isFitInputWidth?"width":"minWidth"]:e.minWidth})},[x(e.$slots,"default")],6)}var aa=ie(la,[["render",sa],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select-dropdown.vue"]]);function ia(e){const{t}=et();return se({options:new Map,cachedOptions:new Map,createdLabel:null,createdSelected:!1,selected:e.multiple?[]:{},inputLength:20,inputWidth:0,optionsCount:0,filteredOptionsCount:0,visible:!1,softFocus:!1,selectedLabel:"",hoverIndex:-1,query:"",previousQuery:null,inputHovering:!1,cachedPlaceHolder:"",currentPlaceholder:t("el.select.placeholder"),menuVisibleOnFocus:!1,isOnComposition:!1,isSilentBlur:!1,prefixWidth:11,tagInMultiLine:!1,mouseEnter:!1})}const ra=(e,t,n)=>{const{t:l}=et(),o=ae("select");It({from:"suffixTransition",replacement:"override style scheme",version:"2.3.0",scope:"props",ref:"https://element-plus.org/en-US/component/select.html#select-attributes"},B(()=>e.suffixTransition===!1));const a=$(null),s=$(null),r=$(null),d=$(null),g=$(null),m=$(null),u=$(null),h=$(-1),p=dt({query:""}),w=dt(""),i=$([]);let b=0;const{form:I,formItem:S}=Cl(),H=B(()=>!e.filterable||e.multiple||!t.visible),_=B(()=>e.disabled||(I==null?void 0:I.disabled)),q=B(()=>{const f=e.multiple?Array.isArray(e.modelValue)&&e.modelValue.length>0:e.modelValue!==void 0&&e.modelValue!==null&&e.modelValue!=="";return e.clearable&&!_.value&&t.inputHovering&&f}),W=B(()=>e.remote&&e.filterable&&!e.remoteShowSuffix?"":e.suffixIcon),ee=B(()=>o.is("reverse",W.value&&t.visible&&e.suffixTransition)),ne=B(()=>e.remote?300:0),E=B(()=>e.loading?e.loadingText||l("el.select.loading"):e.remote&&t.query===""&&t.options.size===0?!1:e.filterable&&t.query&&t.options.size>0&&t.filteredOptionsCount===0?e.noMatchText||l("el.select.noMatch"):t.options.size===0?e.noDataText||l("el.select.noData"):null),D=B(()=>{const f=Array.from(t.options.values()),N=[];return i.value.forEach(P=>{const U=f.findIndex(fe=>fe.currentLabel===P);U>-1&&N.push(f[U])}),N.length?N:f}),T=B(()=>Array.from(t.cachedOptions.values())),Y=B(()=>{const f=D.value.filter(N=>!N.created).some(N=>N.currentLabel===t.query);return e.filterable&&e.allowCreate&&t.query!==""&&!f}),te=Tt(),oe=B(()=>["small"].includes(te.value)?"small":"default"),le=B({get(){return t.visible&&E.value!==!1},set(f){t.visible=f}});X([()=>_.value,()=>te.value,()=>I==null?void 0:I.size],()=>{ue(()=>{F()})}),X(()=>e.placeholder,f=>{t.cachedPlaceHolder=t.currentPlaceholder=f}),X(()=>e.modelValue,(f,N)=>{e.multiple&&(F(),f&&f.length>0||s.value&&t.query!==""?t.currentPlaceholder="":t.currentPlaceholder=t.cachedPlaceHolder,e.filterable&&!e.reserveKeyword&&(t.query="",k(t.query))),R(),e.filterable&&!e.multiple&&(t.inputLength=20),!Nn(f,N)&&e.validateEvent&&(S==null||S.validate("change").catch(P=>_o()))},{flush:"post",deep:!0}),X(()=>t.visible,f=>{var N,P,U,fe,he;f?((P=(N=d.value)==null?void 0:N.updatePopper)==null||P.call(N),e.filterable&&(t.filteredOptionsCount=t.optionsCount,t.query=e.remote?"":t.selectedLabel,(fe=(U=r.value)==null?void 0:U.focus)==null||fe.call(U),e.multiple?(he=s.value)==null||he.focus():t.selectedLabel&&(t.currentPlaceholder=`${t.selectedLabel}`,t.selectedLabel=""),k(t.query),!e.multiple&&!e.remote&&(p.value.query="",it(p),it(w)))):(e.filterable&&(Le(e.filterMethod)&&e.filterMethod(""),Le(e.remoteMethod)&&e.remoteMethod("")),s.value&&s.value.blur(),t.query="",t.previousQuery=null,t.selectedLabel="",t.inputLength=20,t.menuVisibleOnFocus=!1,Me(),ue(()=>{s.value&&s.value.value===""&&t.selected.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)}),e.multiple||(t.selected&&(e.filterable&&e.allowCreate&&t.createdSelected&&t.createdLabel?t.selectedLabel=t.createdLabel:t.selectedLabel=t.selected.currentLabel,e.filterable&&(t.query=t.selectedLabel)),e.filterable&&(t.currentPlaceholder=t.cachedPlaceHolder))),n.emit("visible-change",f)}),X(()=>t.options.entries(),()=>{var f,N,P;if(!zo)return;(N=(f=d.value)==null?void 0:f.updatePopper)==null||N.call(f),e.multiple&&F();const U=((P=m.value)==null?void 0:P.querySelectorAll("input"))||[];Array.from(U).includes(document.activeElement)||R(),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&C()},{flush:"post"}),X(()=>t.hoverIndex,f=>{wt(f)&&f>-1?h.value=D.value[f]||{}:h.value={},D.value.forEach(N=>{N.hover=h.value===N})});const F=()=>{ue(()=>{var f,N;if(!a.value)return;const P=a.value.$el.querySelector("input");b=b||(P.clientHeight>0?P.clientHeight+2:0);const U=g.value,fe=$l(te.value||(I==null?void 0:I.size)),he=fe===b||b<=0?fe:b;!(P.offsetParent===null)&&(P.style.height=`${(t.selected.length===0?he:Math.max(U?U.clientHeight+(U.clientHeight>he?6:0):0,he))-2}px`),t.tagInMultiLine=Number.parseFloat(P.style.height)>=he,t.visible&&E.value!==!1&&((N=(f=d.value)==null?void 0:f.updatePopper)==null||N.call(f))})},k=async f=>{if(!(t.previousQuery===f||t.isOnComposition)){if(t.previousQuery===null&&(Le(e.filterMethod)||Le(e.remoteMethod))){t.previousQuery=f;return}t.previousQuery=f,ue(()=>{var N,P;t.visible&&((P=(N=d.value)==null?void 0:N.updatePopper)==null||P.call(N))}),t.hoverIndex=-1,e.multiple&&e.filterable&&ue(()=>{const N=s.value.value.length*15+20;t.inputLength=e.collapseTags?Math.min(50,N):N,z(),F()}),e.remote&&Le(e.remoteMethod)?(t.hoverIndex=-1,e.remoteMethod(f)):Le(e.filterMethod)?(e.filterMethod(f),it(w)):(t.filteredOptionsCount=t.optionsCount,p.value.query=f,it(p),it(w)),e.defaultFirstOption&&(e.filterable||e.remote)&&t.filteredOptionsCount&&(await ue(),C())}},z=()=>{t.currentPlaceholder!==""&&(t.currentPlaceholder=s.value.value?"":t.cachedPlaceHolder)},C=()=>{const f=D.value.filter(U=>U.visible&&!U.disabled&&!U.states.groupDisabled),N=f.find(U=>U.created),P=f[0];t.hoverIndex=ct(D.value,N||P)},R=()=>{var f;if(e.multiple)t.selectedLabel="";else{const P=De(e.modelValue);(f=P.props)!=null&&f.created?(t.createdLabel=P.props.value,t.createdSelected=!0):t.createdSelected=!1,t.selectedLabel=P.currentLabel,t.selected=P,e.filterable&&(t.query=t.selectedLabel);return}const N=[];Array.isArray(e.modelValue)&&e.modelValue.forEach(P=>{N.push(De(P))}),t.selected=N,ue(()=>{F()})},De=f=>{let N;const P=xt(f).toLowerCase()==="object",U=xt(f).toLowerCase()==="null",fe=xt(f).toLowerCase()==="undefined";for(let Oe=t.cachedOptions.size-1;Oe>=0;Oe--){const ke=T.value[Oe];if(P?Ne(ke.value,e.valueKey)===Ne(f,e.valueKey):ke.value===f){N={value:f,currentLabel:ke.currentLabel,isDisabled:ke.isDisabled};break}}if(N)return N;const he=P?f.label:!U&&!fe?f:"",Te={value:f,currentLabel:he};return e.multiple&&(Te.hitState=!1),Te},Me=()=>{setTimeout(()=>{const f=e.valueKey;e.multiple?t.selected.length>0?t.hoverIndex=Math.min.apply(null,t.selected.map(N=>D.value.findIndex(P=>Ne(P,f)===Ne(N,f)))):t.hoverIndex=-1:t.hoverIndex=D.value.findIndex(N=>We(N)===We(t.selected))},300)},nt=()=>{var f,N;we(),(N=(f=d.value)==null?void 0:f.updatePopper)==null||N.call(f),e.multiple&&F()},we=()=>{var f;t.inputWidth=(f=a.value)==null?void 0:f.$el.offsetWidth},Rt=()=>{e.filterable&&t.query!==t.selectedLabel&&(t.query=t.selectedLabel,k(t.query))},Mt=In(()=>{Rt()},ne.value),_t=In(f=>{k(f.target.value)},ne.value),_e=f=>{Nn(e.modelValue,f)||n.emit(Vn,f)},Ge=f=>{if(f.target.value.length<=0&&!st()){const N=e.modelValue.slice();N.pop(),n.emit(Fe,N),_e(N)}f.target.value.length===1&&e.modelValue.length===0&&(t.currentPlaceholder=t.cachedPlaceHolder)},zt=(f,N)=>{const P=t.selected.indexOf(N);if(P>-1&&!_.value){const U=e.modelValue.slice();U.splice(P,1),n.emit(Fe,U),_e(U),n.emit("remove-tag",N.value)}f.stopPropagation()},ut=f=>{f.stopPropagation();const N=e.multiple?[]:"";if(!Ft(N))for(const P of t.selected)P.isDisabled&&N.push(P.value);n.emit(Fe,N),_e(N),t.hoverIndex=-1,t.visible=!1,n.emit("clear")},ot=(f,N)=>{var P;if(e.multiple){const U=(e.modelValue||[]).slice(),fe=ct(U,f.value);fe>-1?U.splice(fe,1):(e.multipleLimit<=0||U.length<e.multipleLimit)&&U.push(f.value),n.emit(Fe,U),_e(U),f.created&&(t.query="",k(""),t.inputLength=20),e.filterable&&((P=s.value)==null||P.focus())}else n.emit(Fe,f.value),_e(f.value),t.visible=!1;t.isSilentBlur=N,lt(),!t.visible&&ue(()=>{je(f)})},ct=(f=[],N)=>{if(!Et(N))return f.indexOf(N);const P=e.valueKey;let U=-1;return f.some((fe,he)=>$t(Ne(fe,P))===Ne(N,P)?(U=he,!0):!1),U},lt=()=>{t.softFocus=!0;const f=s.value||a.value;f&&(f==null||f.focus())},je=f=>{var N,P,U,fe,he;const Te=Array.isArray(f)?f[0]:f;let Oe=null;if(Te!=null&&Te.value){const ke=D.value.filter(Zt=>Zt.value===Te.value);ke.length>0&&(Oe=ke[0].$el)}if(d.value&&Oe){const ke=(fe=(U=(P=(N=d.value)==null?void 0:N.popperRef)==null?void 0:P.contentRef)==null?void 0:U.querySelector)==null?void 0:fe.call(U,`.${o.be("dropdown","wrap")}`);ke&&kl(ke,Oe)}(he=u.value)==null||he.handleScroll()},Vt=f=>{t.optionsCount++,t.filteredOptionsCount++,t.options.set(f.value,f),t.cachedOptions.set(f.value,f)},qt=(f,N)=>{t.options.get(f)===N&&(t.optionsCount--,t.filteredOptionsCount--,t.options.delete(f))},Ut=f=>{f.code!==Q.backspace&&st(!1),t.inputLength=s.value.value.length*15+20,F()},st=f=>{if(!Array.isArray(t.selected))return;const N=t.selected[t.selected.length-1];if(N)return f===!0||f===!1?(N.hitState=f,f):(N.hitState=!N.hitState,N.hitState)},Ht=f=>{const N=f.target.value;if(f.type==="compositionend")t.isOnComposition=!1,ue(()=>k(N));else{const P=N[N.length-1]||"";t.isOnComposition=!wl(P)}},Gt=()=>{ue(()=>je(t.selected))},jt=f=>{t.softFocus?t.softFocus=!1:((e.automaticDropdown||e.filterable)&&(e.filterable&&!t.visible&&(t.menuVisibleOnFocus=!0),t.visible=!0),n.emit("focus",f))},Be=()=>{var f,N,P;t.visible=!1,(f=a.value)==null||f.blur(),(P=(N=r.value)==null?void 0:N.blur)==null||P.call(N)},ft=f=>{ue(()=>{t.isSilentBlur?t.isSilentBlur=!1:n.emit("blur",f)}),t.softFocus=!1},Wt=f=>{ut(f)},pt=()=>{t.visible=!1},Qt=f=>{t.visible&&(f.preventDefault(),f.stopPropagation(),t.visible=!1)},ht=f=>{var N;f&&!t.mouseEnter||_.value||(t.menuVisibleOnFocus?t.menuVisibleOnFocus=!1:(!d.value||!d.value.isFocusInsideContent())&&(t.visible=!t.visible),t.visible&&((N=s.value||a.value)==null||N.focus()))},Yt=()=>{t.visible?D.value[t.hoverIndex]&&ot(D.value[t.hoverIndex],void 0):ht()},We=f=>Et(f.value)?Ne(f.value,e.valueKey):f.value,Jt=B(()=>D.value.filter(f=>f.visible).every(f=>f.disabled)),Xt=B(()=>t.selected.slice(0,e.maxCollapseTags)),at=B(()=>t.selected.slice(e.maxCollapseTags)),mt=f=>{if(!t.visible){t.visible=!0;return}if(!(t.options.size===0||t.filteredOptionsCount===0)&&!t.isOnComposition&&!Jt.value){f==="next"?(t.hoverIndex++,t.hoverIndex===t.options.size&&(t.hoverIndex=0)):f==="prev"&&(t.hoverIndex--,t.hoverIndex<0&&(t.hoverIndex=t.options.size-1));const N=D.value[t.hoverIndex];(N.disabled===!0||N.states.groupDisabled===!0||!N.visible)&&mt(f),ue(()=>je(h.value))}};return{optionList:i,optionsArray:D,selectSize:te,handleResize:nt,debouncedOnInputChange:Mt,debouncedQueryChange:_t,deletePrevTag:Ge,deleteTag:zt,deleteSelected:ut,handleOptionSelect:ot,scrollToOption:je,readonly:H,resetInputHeight:F,showClose:q,iconComponent:W,iconReverse:ee,showNewOption:Y,collapseTagSize:oe,setSelected:R,managePlaceholder:z,selectDisabled:_,emptyText:E,toggleLastOptionHitState:st,resetInputState:Ut,handleComposition:Ht,onOptionCreate:Vt,onOptionDestroy:qt,handleMenuEnter:Gt,handleFocus:jt,blur:Be,handleBlur:ft,handleClearClick:Wt,handleClose:pt,handleKeydownEscape:Qt,toggleMenu:ht,selectOption:Yt,getValueKey:We,navigateOptions:mt,dropMenuVisible:le,queryChange:p,groupQueryChange:w,showTagList:Xt,collapseTagList:at,reference:a,input:s,iOSInput:r,tooltipRef:d,tags:g,selectWrapper:m,scrollbar:u,handleMouseEnter:()=>{t.mouseEnter=!0},handleMouseLeave:()=>{t.mouseEnter=!1}}};var da=j({name:"ElOptions",emits:["update-options"],setup(e,{slots:t,emit:n}){let l=[];function o(a,s){if(a.length!==s.length)return!1;for(const[r]of a.entries())if(a[r]!=s[r])return!1;return!0}return()=>{var a,s;const r=(a=t.default)==null?void 0:a.call(t),d=[];function g(m){Array.isArray(m)&&m.forEach(u=>{var h,p,w,i;const b=(h=(u==null?void 0:u.type)||{})==null?void 0:h.name;b==="ElOptionGroup"?g(!Ft(u.children)&&!Array.isArray(u.children)&&Le((p=u.children)==null?void 0:p.default)?(w=u.children)==null?void 0:w.default():u.children):b==="ElOption"?d.push((i=u.props)==null?void 0:i.label):Array.isArray(u.children)&&g(u.children)})}return r.length&&g((s=r[0])==null?void 0:s.children),o(d,l)||(l=d,n("update-options",d)),r}}});const Fn="ElSelect",ua=j({name:Fn,componentName:Fn,components:{ElInput:fn,ElSelectMenu:aa,ElOption:gn,ElOptions:da,ElTag:Kl,ElScrollbar:cn,ElTooltip:tt,ElIcon:Ce},directives:{ClickOutside:El},props:{name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:{type:String,validator:Nl},effect:{type:String,default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:Object,default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTags:{type:Number,default:1},teleported:on.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:St,default:Vo},fitInputWidth:{type:Boolean,default:!1},suffixIcon:{type:St,default:Pn},tagType:{...Wn.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:{type:Boolean,default:!1},suffixTransition:{type:Boolean,default:!0},placement:{type:String,values:qo,default:"bottom-start"}},emits:[Fe,Vn,"remove-tag","clear","visible-change","focus","blur"],setup(e,t){const n=ae("select"),l=ae("input"),{t:o}=et(),a=ia(e),{optionList:s,optionsArray:r,selectSize:d,readonly:g,handleResize:m,collapseTagSize:u,debouncedOnInputChange:h,debouncedQueryChange:p,deletePrevTag:w,deleteTag:i,deleteSelected:b,handleOptionSelect:I,scrollToOption:S,setSelected:H,resetInputHeight:_,managePlaceholder:q,showClose:W,selectDisabled:ee,iconComponent:ne,iconReverse:E,showNewOption:D,emptyText:T,toggleLastOptionHitState:Y,resetInputState:te,handleComposition:oe,onOptionCreate:le,onOptionDestroy:F,handleMenuEnter:k,handleFocus:z,blur:C,handleBlur:R,handleClearClick:De,handleClose:Me,handleKeydownEscape:nt,toggleMenu:we,selectOption:Rt,getValueKey:Mt,navigateOptions:_t,dropMenuVisible:_e,reference:Ge,input:zt,iOSInput:ut,tooltipRef:ot,tags:ct,selectWrapper:lt,scrollbar:je,queryChange:Vt,groupQueryChange:qt,handleMouseEnter:Ut,handleMouseLeave:st,showTagList:Ht,collapseTagList:Gt}=ra(e,a,t),{focus:jt}=Dl(Ge),{inputWidth:Be,selected:ft,inputLength:Wt,filteredOptionsCount:pt,visible:Qt,softFocus:ht,selectedLabel:Yt,hoverIndex:We,query:Jt,inputHovering:Xt,currentPlaceholder:at,menuVisibleOnFocus:mt,isOnComposition:yn,isSilentBlur:Cn,options:f,cachedOptions:N,optionsCount:P,prefixWidth:U,tagInMultiLine:fe}=dn(a),he=B(()=>{const ye=[n.b()],ze=A(d);return ze&&ye.push(n.m(ze)),e.disabled&&ye.push(n.m("disabled")),ye}),Te=B(()=>({maxWidth:`${A(Be)-32}px`,width:"100%"})),Oe=B(()=>({maxWidth:`${A(Be)>123?A(Be)-123:A(Be)-75}px`}));ve(Kt,se({props:e,options:f,optionsArray:r,cachedOptions:N,optionsCount:P,filteredOptionsCount:pt,hoverIndex:We,handleOptionSelect:I,onOptionCreate:le,onOptionDestroy:F,selectWrapper:lt,selected:ft,setSelected:H,queryChange:Vt,groupQueryChange:qt})),Re(()=>{a.cachedPlaceHolder=at.value=e.placeholder||(()=>o("el.select.placeholder")),e.multiple&&Array.isArray(e.modelValue)&&e.modelValue.length>0&&(at.value=""),Dt(lt,m),e.remote&&e.multiple&&_(),ue(()=>{const ye=Ge.value&&Ge.value.$el;if(ye&&(Be.value=ye.getBoundingClientRect().width,t.slots.prefix)){const ze=ye.querySelector(`.${l.e("prefix")}`);U.value=Math.max(ze.getBoundingClientRect().width+5,30)}}),H()}),e.multiple&&!Array.isArray(e.modelValue)&&t.emit(Fe,[]),!e.multiple&&Array.isArray(e.modelValue)&&t.emit(Fe,"");const ke=B(()=>{var ye,ze;return(ze=(ye=ot.value)==null?void 0:ye.popperRef)==null?void 0:ze.contentRef});return{isIOS:Uo,onOptionsRendered:ye=>{s.value=ye},tagInMultiLine:fe,prefixWidth:U,selectSize:d,readonly:g,handleResize:m,collapseTagSize:u,debouncedOnInputChange:h,debouncedQueryChange:p,deletePrevTag:w,deleteTag:i,deleteSelected:b,handleOptionSelect:I,scrollToOption:S,inputWidth:Be,selected:ft,inputLength:Wt,filteredOptionsCount:pt,visible:Qt,softFocus:ht,selectedLabel:Yt,hoverIndex:We,query:Jt,inputHovering:Xt,currentPlaceholder:at,menuVisibleOnFocus:mt,isOnComposition:yn,isSilentBlur:Cn,options:f,resetInputHeight:_,managePlaceholder:q,showClose:W,selectDisabled:ee,iconComponent:ne,iconReverse:E,showNewOption:D,emptyText:T,toggleLastOptionHitState:Y,resetInputState:te,handleComposition:oe,handleMenuEnter:k,handleFocus:z,blur:C,handleBlur:R,handleClearClick:De,handleClose:Me,handleKeydownEscape:nt,toggleMenu:we,selectOption:Rt,getValueKey:Mt,navigateOptions:_t,dropMenuVisible:_e,focus:jt,reference:Ge,input:zt,iOSInput:ut,tooltipRef:ot,popperPaneRef:ke,tags:ct,selectWrapper:lt,scrollbar:je,wrapperKls:he,selectTagsStyle:Te,nsSelect:n,tagTextStyle:Oe,handleMouseEnter:Ut,handleMouseLeave:st,showTagList:Ht,collapseTagList:Gt}}}),ca=["disabled","autocomplete"],fa=["disabled"],pa={style:{height:"100%",display:"flex","justify-content":"center","align-items":"center"}};function ha(e,t,n,l,o,a){const s=V("el-tag"),r=V("el-tooltip"),d=V("el-icon"),g=V("el-input"),m=V("el-option"),u=V("el-options"),h=V("el-scrollbar"),p=V("el-select-menu"),w=Ho("click-outside");return Ie((y(),K("div",{ref:"selectWrapper",class:L(e.wrapperKls),onMouseenter:t[21]||(t[21]=(...i)=>e.handleMouseEnter&&e.handleMouseEnter(...i)),onMouseleave:t[22]||(t[22]=(...i)=>e.handleMouseLeave&&e.handleMouseLeave(...i)),onClick:t[23]||(t[23]=re((...i)=>e.toggleMenu&&e.toggleMenu(...i),["stop"]))},[c(r,{ref:"tooltipRef",visible:e.dropMenuVisible,placement:e.placement,teleported:e.teleported,"popper-class":[e.nsSelect.e("popper"),e.popperClass],"popper-options":e.popperOptions,"fallback-placements":["bottom-start","top-start","right","left"],effect:e.effect,pure:"",trigger:"click",transition:`${e.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:e.persistent,onShow:e.handleMenuEnter},{default:v(()=>[O("div",{class:"select-trigger",onMouseenter:t[19]||(t[19]=i=>e.inputHovering=!0),onMouseleave:t[20]||(t[20]=i=>e.inputHovering=!1)},[e.multiple?(y(),K("div",{key:0,ref:"tags",class:L([e.nsSelect.e("tags"),e.nsSelect.is("disabled",e.selectDisabled)]),style:ge(e.selectTagsStyle)},[e.collapseTags&&e.selected.length?(y(),M(kt,{key:0,onAfterLeave:e.resetInputHeight},{default:v(()=>[O("span",{class:L([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(y(!0),K(de,null,me(e.showTagList,i=>(y(),M(s,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:b=>e.deleteTag(b,i)},{default:v(()=>[O("span",{class:L(e.nsSelect.e("tags-text")),style:ge(e.tagTextStyle)},ce(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128)),e.selected.length>e.maxCollapseTags?(y(),M(s,{key:0,closable:!1,size:e.collapseTagSize,type:e.tagType,"disable-transitions":""},{default:v(()=>[e.collapseTagsTooltip?(y(),M(r,{key:0,disabled:e.dropMenuVisible,"fallback-placements":["bottom","top","right","left"],effect:e.effect,placement:"bottom",teleported:e.teleported},{default:v(()=>[O("span",{class:L(e.nsSelect.e("tags-text"))},"+ "+ce(e.selected.length-e.maxCollapseTags),3)]),content:v(()=>[O("div",{class:L(e.nsSelect.e("collapse-tags"))},[(y(!0),K(de,null,me(e.collapseTagList,i=>(y(),K("div",{key:e.getValueKey(i),class:L(e.nsSelect.e("collapse-tag"))},[c(s,{class:"in-tooltip",closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",style:{margin:"2px"},onClose:b=>e.deleteTag(b,i)},{default:v(()=>[O("span",{class:L(e.nsSelect.e("tags-text")),style:ge({maxWidth:e.inputWidth-75+"px"})},ce(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):(y(),K("span",{key:1,class:L(e.nsSelect.e("tags-text"))},"+ "+ce(e.selected.length-e.maxCollapseTags),3))]),_:1},8,["size","type"])):G("v-if",!0)],2)]),_:1},8,["onAfterLeave"])):G("v-if",!0),e.collapseTags?G("v-if",!0):(y(),M(kt,{key:1,onAfterLeave:e.resetInputHeight},{default:v(()=>[O("span",{class:L([e.nsSelect.b("tags-wrapper"),{"has-prefix":e.prefixWidth&&e.selected.length}])},[(y(!0),K(de,null,me(e.selected,i=>(y(),M(s,{key:e.getValueKey(i),closable:!e.selectDisabled&&!i.isDisabled,size:e.collapseTagSize,hit:i.hitState,type:e.tagType,"disable-transitions":"",onClose:b=>e.deleteTag(b,i)},{default:v(()=>[O("span",{class:L(e.nsSelect.e("tags-text")),style:ge({maxWidth:e.inputWidth-75+"px"})},ce(i.currentLabel),7)]),_:2},1032,["closable","size","hit","type","onClose"]))),128))],2)]),_:1},8,["onAfterLeave"])),e.filterable?Ie((y(),K("input",{key:2,ref:"input","onUpdate:modelValue":t[0]||(t[0]=i=>e.query=i),type:"text",class:L([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.is("disabled",e.selectDisabled)]),disabled:e.selectDisabled,autocomplete:e.autocomplete,style:ge({marginLeft:e.prefixWidth&&!e.selected.length||e.tagInMultiLine?`${e.prefixWidth}px`:"",flexGrow:1,width:`${e.inputLength/(e.inputWidth-32)}%`,maxWidth:`${e.inputWidth-42}px`}),onFocus:t[1]||(t[1]=(...i)=>e.handleFocus&&e.handleFocus(...i)),onBlur:t[2]||(t[2]=(...i)=>e.handleBlur&&e.handleBlur(...i)),onKeyup:t[3]||(t[3]=(...i)=>e.managePlaceholder&&e.managePlaceholder(...i)),onKeydown:[t[4]||(t[4]=(...i)=>e.resetInputState&&e.resetInputState(...i)),t[5]||(t[5]=Ee(re(i=>e.navigateOptions("next"),["prevent"]),["down"])),t[6]||(t[6]=Ee(re(i=>e.navigateOptions("prev"),["prevent"]),["up"])),t[7]||(t[7]=Ee((...i)=>e.handleKeydownEscape&&e.handleKeydownEscape(...i),["esc"])),t[8]||(t[8]=Ee(re((...i)=>e.selectOption&&e.selectOption(...i),["stop","prevent"]),["enter"])),t[9]||(t[9]=Ee((...i)=>e.deletePrevTag&&e.deletePrevTag(...i),["delete"])),t[10]||(t[10]=Ee(i=>e.visible=!1,["tab"]))],onCompositionstart:t[11]||(t[11]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionupdate:t[12]||(t[12]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onCompositionend:t[13]||(t[13]=(...i)=>e.handleComposition&&e.handleComposition(...i)),onInput:t[14]||(t[14]=(...i)=>e.debouncedQueryChange&&e.debouncedQueryChange(...i))},null,46,ca)),[[Go,e.query]]):G("v-if",!0)],6)):G("v-if",!0),G(" fix: https://github.com/element-plus/element-plus/issues/11415 "),e.isIOS&&!e.multiple&&e.filterable&&e.readonly?(y(),K("input",{key:1,ref:"iOSInput",class:L([e.nsSelect.e("input"),e.nsSelect.is(e.selectSize),e.nsSelect.em("input","iOS")]),disabled:e.selectDisabled,type:"text"},null,10,fa)):G("v-if",!0),c(g,{id:e.id,ref:"reference",modelValue:e.selectedLabel,"onUpdate:modelValue":t[15]||(t[15]=i=>e.selectedLabel=i),type:"text",placeholder:typeof e.currentPlaceholder=="function"?e.currentPlaceholder():e.currentPlaceholder,name:e.name,autocomplete:e.autocomplete,size:e.selectSize,disabled:e.selectDisabled,readonly:e.readonly,"validate-event":!1,class:L([e.nsSelect.is("focus",e.visible)]),tabindex:e.multiple&&e.filterable?-1:void 0,onFocus:e.handleFocus,onBlur:e.handleBlur,onInput:e.debouncedOnInputChange,onPaste:e.debouncedOnInputChange,onCompositionstart:e.handleComposition,onCompositionupdate:e.handleComposition,onCompositionend:e.handleComposition,onKeydown:[t[16]||(t[16]=Ee(re(i=>e.navigateOptions("next"),["stop","prevent"]),["down"])),t[17]||(t[17]=Ee(re(i=>e.navigateOptions("prev"),["stop","prevent"]),["up"])),Ee(re(e.selectOption,["stop","prevent"]),["enter"]),Ee(e.handleKeydownEscape,["esc"]),t[18]||(t[18]=Ee(i=>e.visible=!1,["tab"]))]},Rn({suffix:v(()=>[e.iconComponent&&!e.showClose?(y(),M(d,{key:0,class:L([e.nsSelect.e("caret"),e.nsSelect.e("icon"),e.iconReverse])},{default:v(()=>[(y(),M(Xe(e.iconComponent)))]),_:1},8,["class"])):G("v-if",!0),e.showClose&&e.clearIcon?(y(),M(d,{key:1,class:L([e.nsSelect.e("caret"),e.nsSelect.e("icon")]),onClick:e.handleClearClick},{default:v(()=>[(y(),M(Xe(e.clearIcon)))]),_:1},8,["class","onClick"])):G("v-if",!0)]),_:2},[e.$slots.prefix?{name:"prefix",fn:v(()=>[O("div",pa,[x(e.$slots,"prefix")])])}:void 0]),1032,["id","modelValue","placeholder","name","autocomplete","size","disabled","readonly","class","tabindex","onFocus","onBlur","onInput","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown"])],32)]),content:v(()=>[c(p,null,{default:v(()=>[Ie(c(h,{ref:"scrollbar",tag:"ul","wrap-class":e.nsSelect.be("dropdown","wrap"),"view-class":e.nsSelect.be("dropdown","list"),class:L([e.nsSelect.is("empty",!e.allowCreate&&!!e.query&&e.filteredOptionsCount===0)])},{default:v(()=>[e.showNewOption?(y(),M(m,{key:0,value:e.query,created:!0},null,8,["value"])):G("v-if",!0),c(u,{onUpdateOptions:e.onOptionsRendered},{default:v(()=>[x(e.$slots,"default")]),_:3},8,["onUpdateOptions"])]),_:3},8,["wrap-class","view-class","class"]),[[Ke,e.options.size>0&&!e.loading]]),e.emptyText&&(!e.allowCreate||e.loading||e.allowCreate&&e.options.size===0)?(y(),K(de,{key:0},[e.$slots.empty?x(e.$slots,"empty",{key:0}):(y(),K("p",{key:1,class:L(e.nsSelect.be("dropdown","empty"))},ce(e.emptyText),3))],64)):G("v-if",!0)]),_:3})]),_:3},8,["visible","placement","teleported","popper-class","popper-options","effect","transition","persistent","onShow"])],34)),[[w,e.handleClose,e.popperPaneRef]])}var ma=ie(ua,[["render",ha],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/select.vue"]]);const va=j({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:{type:Boolean,default:!1}},setup(e){const t=ae("select"),n=$(!0),l=$e(),o=$([]);ve(uo,se({...dn(e)}));const a=Z(Kt);Re(()=>{o.value=s(l.subTree)});const s=d=>{const g=[];return Array.isArray(d.children)&&d.children.forEach(m=>{var u;m.type&&m.type.name==="ElOption"&&m.component&&m.component.proxy?g.push(m.component.proxy):(u=m.children)!=null&&u.length&&g.push(...s(m))}),g},{groupQueryChange:r}=$t(a);return X(r,()=>{n.value=o.value.some(d=>d.visible===!0)},{flush:"post"}),{visible:n,ns:t}}});function ga(e,t,n,l,o,a){return Ie((y(),K("ul",{class:L(e.ns.be("group","wrap"))},[O("li",{class:L(e.ns.be("group","title"))},ce(e.label),3),O("li",null,[O("ul",{class:L(e.ns.b("group"))},[x(e.$slots,"default")],2)])],2)),[[Ke,e.visible]])}var co=ie(va,[["render",ga],["__file","/home/runner/work/element-plus/element-plus/packages/components/select/src/option-group.vue"]]);const fo=Pe(ma,{Option:gn,OptionGroup:co}),po=xe(gn);xe(co);const Pt=Symbol("tabsRootContextKey"),ba=be({tabs:{type:pe(Array),default:()=>qe([])}}),ho="ElTabBar",ya=j({name:ho}),Ca=j({...ya,props:ba,setup(e,{expose:t}){const n=e,l=$e(),o=Z(Pt);o||un(ho,"<el-tabs><el-tab-bar /></el-tabs>");const a=ae("tabs"),s=$(),r=$(),d=()=>{let m=0,u=0;const h=["top","bottom"].includes(o.props.tabPosition)?"width":"height",p=h==="width"?"x":"y",w=p==="x"?"left":"top";return n.tabs.every(i=>{var b,I;const S=(I=(b=l.parent)==null?void 0:b.refs)==null?void 0:I[`tab-${i.uid}`];if(!S)return!1;if(!i.active)return!0;m=S[`offset${Ae(w)}`],u=S[`client${Ae(h)}`];const H=window.getComputedStyle(S);return h==="width"&&(n.tabs.length>1&&(u-=Number.parseFloat(H.paddingLeft)+Number.parseFloat(H.paddingRight)),m+=Number.parseFloat(H.paddingLeft)),!1}),{[h]:`${u}px`,transform:`translate${Ae(p)}(${m}px)`}},g=()=>r.value=d();return X(()=>n.tabs,async()=>{await ue(),g()},{immediate:!0}),Dt(s,()=>g()),t({ref:s,update:g}),(m,u)=>(y(),K("div",{ref_key:"barRef",ref:s,class:L([A(a).e("active-bar"),A(a).is(A(o).props.tabPosition)]),style:ge(r.value)},null,6))}});var ka=ie(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-bar.vue"]]);const wa=be({panes:{type:pe(Array),default:()=>qe([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),Ea={tabClick:(e,t,n)=>n instanceof Event,tabRemove:(e,t)=>t instanceof Event},Tn="ElTabNav",Na=j({name:Tn,props:wa,emits:Ea,setup(e,{expose:t,emit:n}){const l=$e(),o=Z(Pt);o||un(Tn,"<el-tabs><tab-nav /></el-tabs>");const a=ae("tabs"),s=jo(),r=Wo(),d=$(),g=$(),m=$(),u=$(),h=$(!1),p=$(0),w=$(!1),i=$(!0),b=B(()=>["top","bottom"].includes(o.props.tabPosition)?"width":"height"),I=B(()=>({transform:`translate${b.value==="width"?"X":"Y"}(-${p.value}px)`})),S=()=>{if(!d.value)return;const E=d.value[`offset${Ae(b.value)}`],D=p.value;if(!D)return;const T=D>E?D-E:0;p.value=T},H=()=>{if(!d.value||!g.value)return;const E=g.value[`offset${Ae(b.value)}`],D=d.value[`offset${Ae(b.value)}`],T=p.value;if(E-T<=D)return;const Y=E-T>D*2?T+D:E-D;p.value=Y},_=async()=>{const E=g.value;if(!h.value||!m.value||!d.value||!E)return;await ue();const D=m.value.querySelector(".is-active");if(!D)return;const T=d.value,Y=["top","bottom"].includes(o.props.tabPosition),te=D.getBoundingClientRect(),oe=T.getBoundingClientRect(),le=Y?E.offsetWidth-oe.width:E.offsetHeight-oe.height,F=p.value;let k=F;Y?(te.left<oe.left&&(k=F-(oe.left-te.left)),te.right>oe.right&&(k=F+te.right-oe.right)):(te.top<oe.top&&(k=F-(oe.top-te.top)),te.bottom>oe.bottom&&(k=F+(te.bottom-oe.bottom))),k=Math.max(k,0),p.value=Math.min(k,le)},q=()=>{var E;if(!g.value||!d.value)return;e.stretch&&((E=u.value)==null||E.update());const D=g.value[`offset${Ae(b.value)}`],T=d.value[`offset${Ae(b.value)}`],Y=p.value;T<D?(h.value=h.value||{},h.value.prev=Y,h.value.next=Y+T<D,D-Y<T&&(p.value=D-T)):(h.value=!1,Y>0&&(p.value=0))},W=E=>{const D=E.code,{up:T,down:Y,left:te,right:oe}=Q;if(![T,Y,te,oe].includes(D))return;const le=Array.from(E.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),F=le.indexOf(E.target);let k;D===te||D===T?F===0?k=le.length-1:k=F-1:F<le.length-1?k=F+1:k=0,le[k].focus({preventScroll:!0}),le[k].click(),ee()},ee=()=>{i.value&&(w.value=!0)},ne=()=>w.value=!1;return X(s,E=>{E==="hidden"?i.value=!1:E==="visible"&&setTimeout(()=>i.value=!0,50)}),X(r,E=>{E?setTimeout(()=>i.value=!0,50):i.value=!1}),Dt(m,q),Re(()=>setTimeout(()=>_(),0)),Mn(()=>q()),t({scrollToActiveTab:_,removeFocus:ne}),X(()=>e.panes,()=>l.update(),{flush:"post",deep:!0}),()=>{const E=h.value?[c("span",{class:[a.e("nav-prev"),a.is("disabled",!h.value.prev)],onClick:S},[c(Ce,null,{default:()=>[c(Qo,null,null)]})]),c("span",{class:[a.e("nav-next"),a.is("disabled",!h.value.next)],onClick:H},[c(Ce,null,{default:()=>[c(Yo,null,null)]})])]:null,D=e.panes.map((T,Y)=>{var te,oe,le,F;const k=T.uid,z=T.props.disabled,C=(oe=(te=T.props.name)!=null?te:T.index)!=null?oe:`${Y}`,R=!z&&(T.isClosable||e.editable);T.index=`${Y}`;const De=R?c(Ce,{class:"is-icon-close",onClick:we=>n("tabRemove",T,we)},{default:()=>[c(Ct,null,null)]}):null,Me=((F=(le=T.slots).label)==null?void 0:F.call(le))||T.props.label,nt=!z&&T.active?0:-1;return c("div",{ref:`tab-${k}`,class:[a.e("item"),a.is(o.props.tabPosition),a.is("active",T.active),a.is("disabled",z),a.is("closable",R),a.is("focus",w.value)],id:`tab-${C}`,key:`tab-${k}`,"aria-controls":`pane-${C}`,role:"tab","aria-selected":T.active,tabindex:nt,onFocus:()=>ee(),onBlur:()=>ne(),onClick:we=>{ne(),n("tabClick",T,C,we)},onKeydown:we=>{R&&(we.code===Q.delete||we.code===Q.backspace)&&n("tabRemove",T,we)}},[Me,De])});return c("div",{ref:m,class:[a.e("nav-wrap"),a.is("scrollable",!!h.value),a.is(o.props.tabPosition)]},[E,c("div",{class:a.e("nav-scroll"),ref:d},[c("div",{class:[a.e("nav"),a.is(o.props.tabPosition),a.is("stretch",e.stretch&&["top","bottom"].includes(o.props.tabPosition))],ref:g,style:I.value,role:"tablist",onKeydown:W},[e.type?null:c(ka,{ref:u,tabs:[...e.panes]},null),D])])])}}}),Ia=be({type:{type:String,values:["card","border-card",""],default:""},activeName:{type:[String,Number]},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:pe(Function),default:()=>!0},stretch:Boolean}),tn=e=>Ft(e)||wt(e),Sa={[Fe]:e=>tn(e),tabClick:(e,t)=>t instanceof Event,tabChange:e=>tn(e),edit:(e,t)=>["remove","add"].includes(t),tabRemove:e=>tn(e),tabAdd:()=>!0};var $a=j({name:"ElTabs",props:Ia,emits:Sa,setup(e,{emit:t,slots:n,expose:l}){var o,a;const s=ae("tabs"),{children:r,addChild:d,removeChild:g}=Tl($e(),"ElTabPane"),m=$(),u=$((a=(o=e.modelValue)!=null?o:e.activeName)!=null?a:"0"),h=I=>{u.value=I,t(Fe,I),t("tabChange",I)},p=async I=>{var S,H,_;if(!(u.value===I||wn(I)))try{await((S=e.beforeLeave)==null?void 0:S.call(e,I,u.value))!==!1&&(h(I),(_=(H=m.value)==null?void 0:H.removeFocus)==null||_.call(H))}catch{}},w=(I,S,H)=>{I.props.disabled||(p(S),t("tabClick",I,H))},i=(I,S)=>{I.props.disabled||wn(I.props.name)||(S.stopPropagation(),t("edit",I.props.name,"remove"),t("tabRemove",I.props.name))},b=()=>{t("edit",void 0,"add"),t("tabAdd")};return It({from:'"activeName"',replacement:'"model-value" or "v-model"',scope:"ElTabs",version:"2.3.0",ref:"https://element-plus.org/en-US/component/tabs.html#attributes",type:"Attribute"},B(()=>!!e.activeName)),X(()=>e.activeName,I=>p(I)),X(()=>e.modelValue,I=>p(I)),X(u,async()=>{var I;await ue(),(I=m.value)==null||I.scrollToActiveTab()}),ve(Pt,{props:e,currentName:u,registerPane:d,unregisterPane:g}),l({currentName:u}),()=>{const I=e.editable||e.addable?c("span",{class:s.e("new-tab"),tabindex:"0",onClick:b,onKeydown:_=>{_.code===Q.enter&&b()}},[c(Ce,{class:s.is("icon-plus")},{default:()=>[c(Jo,null,null)]})]):null,S=c("div",{class:[s.e("header"),s.is(e.tabPosition)]},[I,c(Na,{ref:m,currentName:u.value,editable:e.editable,type:e.type,panes:r.value,stretch:e.stretch,onTabClick:w,onTabRemove:i},null)]),H=c("div",{class:s.e("content")},[x(n,"default")]);return c("div",{class:[s.b(),s.m(e.tabPosition),{[s.m("card")]:e.type==="card",[s.m("border-card")]:e.type==="border-card"}]},[...e.tabPosition!=="bottom"?[S,H]:[H,S]])}}});const Da=be({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),Fa=["id","aria-hidden","aria-labelledby"],mo="ElTabPane",Ta=j({name:mo}),Oa=j({...Ta,props:Da,setup(e){const t=e,n=$e(),l=Ln(),o=Z(Pt);o||un(mo,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=ae("tab-pane"),s=$(),r=B(()=>t.closable||o.props.closable),d=En(()=>{var p;return o.currentName.value===((p=t.name)!=null?p:s.value)}),g=$(d.value),m=B(()=>{var p;return(p=t.name)!=null?p:s.value}),u=En(()=>!t.lazy||g.value||d.value);X(d,p=>{p&&(g.value=!0)});const h=se({uid:n.uid,slots:l,props:t,paneName:m,active:d,index:s,isClosable:r});return Re(()=>{o.registerPane(h)}),Xo(()=>{o.unregisterPane(h.uid)}),(p,w)=>A(u)?Ie((y(),K("div",{key:0,id:`pane-${A(m)}`,class:L(A(a).b()),role:"tabpanel","aria-hidden":!A(d),"aria-labelledby":`tab-${A(m)}`},[x(p.$slots,"default")],10,Fa)),[[Ke,A(d)]]):G("v-if",!0)}});var vo=ie(Oa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tabs/src/tab-pane.vue"]]);const go=Pe($a,{TabPane:vo}),bo=xe(vo),Je="$treeNodeId",On=function(e,t){!t||t[Je]||Object.defineProperty(t,Je,{value:e.id,enumerable:!1,configurable:!1,writable:!1})},bn=function(e,t){return e?t[e]:t[Je]},sn=(e,t,n)=>{const l=e.value.currentNode;n();const o=e.value.currentNode;l!==o&&t("current-change",o?o.data:null,o)},an=e=>{let t=!0,n=!0,l=!0;for(let o=0,a=e.length;o<a;o++){const s=e[o];(s.checked!==!0||s.indeterminate)&&(t=!1,s.disabled||(l=!1)),(s.checked!==!1||s.indeterminate)&&(n=!1)}return{all:t,none:n,allWithoutDisable:l,half:!t&&!n}},bt=function(e){if(e.childNodes.length===0||e.loading)return;const{all:t,none:n,half:l}=an(e.childNodes);t?(e.checked=!0,e.indeterminate=!1):l?(e.checked=!1,e.indeterminate=!0):n&&(e.checked=!1,e.indeterminate=!1);const o=e.parent;!o||o.level===0||e.store.checkStrictly||bt(o)},gt=function(e,t){const n=e.store.props,l=e.data||{},o=n[t];if(typeof o=="function")return o(l,e);if(typeof o=="string")return l[o];if(typeof o>"u"){const a=l[t];return a===void 0?"":a}};let Ba=0;class He{constructor(t){this.id=Ba++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in t)ln(t,n)&&(this[n]=t[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const t=this.store;if(!t)throw new Error("[Node]store is required!");t.registerNode(this);const n=t.props;if(n&&typeof n.isLeaf<"u"){const a=gt(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(t.lazy!==!0&&this.data?(this.setData(this.data),t.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&t.lazy&&t.defaultExpandAll&&this.expand(),Array.isArray(this.data)||On(this,this.data),!this.data)return;const l=t.defaultExpandedKeys,o=t.key;o&&l&&l.includes(this.key)&&this.expand(null,t.autoExpandParent),o&&t.currentNodeKey!==void 0&&this.key===t.currentNodeKey&&(t.currentNode=this,t.currentNode.isCurrent=!0),t.lazy&&t._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(t){Array.isArray(t)||On(this,t),this.data=t,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=gt(this,"children")||[];for(let l=0,o=n.length;l<o;l++)this.insertChild({data:n[l]})}get label(){return gt(this,"label")}get key(){const t=this.store.key;return this.data?this.data[t]:null}get disabled(){return gt(this,"disabled")}get nextSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return t.childNodes[n+1]}return null}get previousSibling(){const t=this.parent;if(t){const n=t.childNodes.indexOf(this);if(n>-1)return n>0?t.childNodes[n-1]:null}return null}contains(t,n=!0){return(this.childNodes||[]).some(l=>l===t||n&&l.contains(t))}remove(){const t=this.parent;t&&t.removeChild(this)}insertChild(t,n,l){if(!t)throw new Error("InsertChild error: child is required.");if(!(t instanceof He)){if(!l){const o=this.getChildren(!0);o.includes(t.data)||(typeof n>"u"||n<0?o.push(t.data):o.splice(n,0,t.data))}Object.assign(t,{parent:this,store:this.store}),t=se(new He(t)),t instanceof He&&t.initialize()}t.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(t):this.childNodes.splice(n,0,t),this.updateLeafState()}insertBefore(t,n){let l;n&&(l=this.childNodes.indexOf(n)),this.insertChild(t,l)}insertAfter(t,n){let l;n&&(l=this.childNodes.indexOf(n),l!==-1&&(l+=1)),this.insertChild(t,l)}removeChild(t){const n=this.getChildren()||[],l=n.indexOf(t.data);l>-1&&n.splice(l,1);const o=this.childNodes.indexOf(t);o>-1&&(this.store&&this.store.deregisterNode(t),t.parent=null,this.childNodes.splice(o,1)),this.updateLeafState()}removeChildByData(t){let n=null;for(let l=0;l<this.childNodes.length;l++)if(this.childNodes[l].data===t){n=this.childNodes[l];break}n&&this.removeChild(n)}expand(t,n){const l=()=>{if(n){let o=this.parent;for(;o.level>0;)o.expanded=!0,o=o.parent}this.expanded=!0,t&&t(),this.childNodes.forEach(o=>{o.canFocus=!0})};this.shouldLoadData()?this.loadData(o=>{Array.isArray(o)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||bt(this),l())}):l()}doCreateChildren(t,n={}){t.forEach(l=>{this.insertChild(Object.assign({data:l},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(t=>{t.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const t=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!t||t.length===0;return}this.isLeaf=!1}setChecked(t,n,l,o){if(this.indeterminate=t==="half",this.checked=t===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:s,allWithoutDisable:r}=an(this.childNodes);!this.isLeaf&&!s&&r&&(this.checked=!1,t=!1);const d=()=>{if(n){const g=this.childNodes;for(let h=0,p=g.length;h<p;h++){const w=g[h];o=o||t!==!1;const i=w.disabled?w.checked:o;w.setChecked(i,n,!0,o)}const{half:m,all:u}=an(g);u||(this.checked=u,this.indeterminate=m)}};if(this.shouldLoadData()){this.loadData(()=>{d(),bt(this)},{checked:t!==!1});return}else d()}const a=this.parent;!a||a.level===0||l||bt(a)}getChildren(t=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const l=this.store.props;let o="children";return l&&(o=l.children||"children"),n[o]===void 0&&(n[o]=null),t&&!n[o]&&(n[o]=[]),n[o]}updateChildren(){const t=this.getChildren()||[],n=this.childNodes.map(a=>a.data),l={},o=[];t.forEach((a,s)=>{const r=a[Je];!!r&&n.findIndex(g=>g[Je]===r)>=0?l[r]={index:s,data:a}:o.push({index:s,data:a})}),this.store.lazy||n.forEach(a=>{l[a[Je]]||this.removeChildByData(a)}),o.forEach(({index:a,data:s})=>{this.insertChild({data:s},a)}),this.updateLeafState()}loadData(t,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const l=o=>{this.childNodes=[],this.doCreateChildren(o,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),t&&t.call(this,o)};this.store.load(this,l)}else t&&t.call(this)}}class La{constructor(t){this.currentNode=null,this.currentNodeKey=null;for(const n in t)ln(t,n)&&(this[n]=t[n]);this.nodesMap={}}initialize(){if(this.root=new He({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const t=this.load;t(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(t){const n=this.filterNodeMethod,l=this.lazy,o=function(a){const s=a.root?a.root.childNodes:a.childNodes;if(s.forEach(r=>{r.visible=n.call(r,t,r.data,r),o(r)}),!a.visible&&s.length){let r=!0;r=!s.some(d=>d.visible),a.root?a.root.visible=r===!1:a.visible=r===!1}t&&a.visible&&!a.isLeaf&&!l&&a.expand()};o(this)}setData(t){t!==this.root.data?(this.root.setData(t),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(t){if(t instanceof He)return t;const n=Et(t)?bn(this.key,t):t;return this.nodesMap[n]||null}insertBefore(t,n){const l=this.getNode(n);l.parent.insertBefore({data:t},l)}insertAfter(t,n){const l=this.getNode(n);l.parent.insertAfter({data:t},l)}remove(t){const n=this.getNode(t);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(t,n){const l=n?this.getNode(n):this.root;l&&l.insertChild({data:t})}_initDefaultCheckedNodes(){const t=this.defaultCheckedKeys||[],n=this.nodesMap;t.forEach(l=>{const o=n[l];o&&o.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(t){(this.defaultCheckedKeys||[]).includes(t.key)&&t.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(t){t!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=t,this._initDefaultCheckedNodes())}registerNode(t){const n=this.key;!t||!t.data||(n?t.key!==void 0&&(this.nodesMap[t.key]=t):this.nodesMap[t.id]=t)}deregisterNode(t){!this.key||!t||!t.data||(t.childNodes.forEach(l=>{this.deregisterNode(l)}),delete this.nodesMap[t.key])}getCheckedNodes(t=!1,n=!1){const l=[],o=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(r=>{(r.checked||n&&r.indeterminate)&&(!t||t&&r.isLeaf)&&l.push(r.data),o(r)})};return o(this),l}getCheckedKeys(t=!1){return this.getCheckedNodes(t).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const t=[],n=function(l){(l.root?l.root.childNodes:l.childNodes).forEach(a=>{a.indeterminate&&t.push(a.data),n(a)})};return n(this),t}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(t=>(t||{})[this.key])}_getAllNodes(){const t=[],n=this.nodesMap;for(const l in n)ln(n,l)&&t.push(n[l]);return t}updateChildren(t,n){const l=this.nodesMap[t];if(!l)return;const o=l.childNodes;for(let a=o.length-1;a>=0;a--){const s=o[a];this.remove(s.data)}for(let a=0,s=n.length;a<s;a++){const r=n[a];this.append(r,l.data)}}_setCheckedKeys(t,n=!1,l){const o=this._getAllNodes().sort((r,d)=>d.level-r.level),a=Object.create(null),s=Object.keys(l);o.forEach(r=>r.setChecked(!1,!1));for(let r=0,d=o.length;r<d;r++){const g=o[r],m=g.data[t].toString();if(!s.includes(m)){g.checked&&!a[m]&&g.setChecked(!1,!1);continue}let h=g.parent;for(;h&&h.level>0;)a[h.data[t]]=!0,h=h.parent;if(g.isLeaf||this.checkStrictly){g.setChecked(!0,!1);continue}if(g.setChecked(!0,!0),n){g.setChecked(!1,!1);const p=function(w){w.childNodes.forEach(b=>{b.isLeaf||b.setChecked(!1,!1),p(b)})};p(g)}}}setCheckedNodes(t,n=!1){const l=this.key,o={};t.forEach(a=>{o[(a||{})[l]]=!0}),this._setCheckedKeys(l,n,o)}setCheckedKeys(t,n=!1){this.defaultCheckedKeys=t;const l=this.key,o={};t.forEach(a=>{o[a]=!0}),this._setCheckedKeys(l,n,o)}setDefaultExpandedKeys(t){t=t||[],this.defaultExpandedKeys=t,t.forEach(n=>{const l=this.getNode(n);l&&l.expand(null,this.autoExpandParent)})}setChecked(t,n,l){const o=this.getNode(t);o&&o.setChecked(!!n,l)}getCurrentNode(){return this.currentNode}setCurrentNode(t){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=t,this.currentNode.isCurrent=!0}setUserCurrentNode(t,n=!0){const l=t[this.key],o=this.nodesMap[l];this.setCurrentNode(o),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(t,n=!0){if(t==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const l=this.getNode(t);l&&(this.setCurrentNode(l),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Aa=j({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(e){const t=ae("tree"),n=Z("NodeInstance"),l=Z("RootTree");return()=>{const o=e.node,{data:a,store:s}=o;return e.renderContent?e.renderContent(Ue,{_self:n,node:o,data:a,store:s}):l.ctx.slots.default?l.ctx.slots.default({node:o,data:a}):Ue("span",{class:t.be("node","label")},[o.label])}}});var Ka=ie(Aa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node-content.vue"]]);function yo(e){const t=Z("TreeNodeMap",null),n={treeNodeExpand:l=>{e.node!==l&&e.node.collapse()},children:[]};return t&&t.children.push(n),ve("TreeNodeMap",n),{broadcastExpanded:l=>{if(e.accordion)for(const o of n.children)o.treeNodeExpand(l)}}}const Co=Symbol("dragEvents");function Pa({props:e,ctx:t,el$:n,dropIndicator$:l,store:o}){const a=ae("tree"),s=$({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return ve(Co,{treeNodeDragStart:({event:m,treeNode:u})=>{if(typeof e.allowDrag=="function"&&!e.allowDrag(u.node))return m.preventDefault(),!1;m.dataTransfer.effectAllowed="move";try{m.dataTransfer.setData("text/plain","")}catch{}s.value.draggingNode=u,t.emit("node-drag-start",u.node,m)},treeNodeDragOver:({event:m,treeNode:u})=>{const h=u,p=s.value.dropNode;p&&p!==h&&en(p.$el,a.is("drop-inner"));const w=s.value.draggingNode;if(!w||!h)return;let i=!0,b=!0,I=!0,S=!0;typeof e.allowDrop=="function"&&(i=e.allowDrop(w.node,h.node,"prev"),S=b=e.allowDrop(w.node,h.node,"inner"),I=e.allowDrop(w.node,h.node,"next")),m.dataTransfer.dropEffect=b||i||I?"move":"none",(i||b||I)&&p!==h&&(p&&t.emit("node-drag-leave",w.node,p.node,m),t.emit("node-drag-enter",w.node,h.node,m)),(i||b||I)&&(s.value.dropNode=h),h.node.nextSibling===w.node&&(I=!1),h.node.previousSibling===w.node&&(i=!1),h.node.contains(w.node,!1)&&(b=!1),(w.node===h.node||w.node.contains(h.node))&&(i=!1,b=!1,I=!1);const H=h.$el.getBoundingClientRect(),_=n.value.getBoundingClientRect();let q;const W=i?b?.25:I?.45:1:-1,ee=I?b?.75:i?.55:0:1;let ne=-9999;const E=m.clientY-H.top;E<H.height*W?q="before":E>H.height*ee?q="after":b?q="inner":q="none";const D=h.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),T=l.value;q==="before"?ne=D.top-_.top:q==="after"&&(ne=D.bottom-_.top),T.style.top=`${ne}px`,T.style.left=`${D.right-_.left}px`,q==="inner"?Zo(h.$el,a.is("drop-inner")):en(h.$el,a.is("drop-inner")),s.value.showDropIndicator=q==="before"||q==="after",s.value.allowDrop=s.value.showDropIndicator||S,s.value.dropType=q,t.emit("node-drag-over",w.node,h.node,m)},treeNodeDragEnd:m=>{const{draggingNode:u,dropType:h,dropNode:p}=s.value;if(m.preventDefault(),m.dataTransfer.dropEffect="move",u&&p){const w={data:u.node.data};h!=="none"&&u.node.remove(),h==="before"?p.node.parent.insertBefore(w,p.node):h==="after"?p.node.parent.insertAfter(w,p.node):h==="inner"&&p.node.insertChild(w),h!=="none"&&o.value.registerNode(w),en(p.$el,a.is("drop-inner")),t.emit("node-drag-end",u.node,p.node,h,m),h!=="none"&&t.emit("node-drop",u.node,p.node,h,m)}u&&!p&&t.emit("node-drag-end",u.node,null,h,m),s.value.showDropIndicator=!1,s.value.draggingNode=null,s.value.dropNode=null,s.value.allowDrop=!0}}),{dragState:s}}const Ra=j({name:"ElTreeNode",components:{ElCollapseTransition:xo,ElCheckbox:Il,NodeContent:Ka,ElIcon:Ce,Loading:el},props:{node:{type:He,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(e,t){const n=ae("tree"),{broadcastExpanded:l}=yo(e),o=Z("RootTree"),a=$(!1),s=$(!1),r=$(null),d=$(null),g=$(null),m=Z(Co),u=$e();ve("NodeInstance",u),e.node.expanded&&(a.value=!0,s.value=!0);const h=o.props.children||"children";X(()=>{const E=e.node.data[h];return E&&[...E]},()=>{e.node.updateChildren()}),X(()=>e.node.indeterminate,E=>{i(e.node.checked,E)}),X(()=>e.node.checked,E=>{i(E,e.node.indeterminate)}),X(()=>e.node.expanded,E=>{ue(()=>a.value=E),E&&(s.value=!0)});const p=E=>bn(o.props.nodeKey,E.data),w=E=>{const D=e.props.class;if(!D)return{};let T;if(Le(D)){const{data:Y}=E;T=D(Y,E)}else T=D;return Ft(T)?{[T]:!0}:T},i=(E,D)=>{(r.value!==E||d.value!==D)&&o.ctx.emit("check-change",e.node.data,E,D),r.value=E,d.value=D},b=E=>{sn(o.store,o.ctx.emit,()=>o.store.value.setCurrentNode(e.node)),o.currentNode.value=e.node,o.props.expandOnClickNode&&S(),o.props.checkOnClickNode&&!e.node.disabled&&H(null,{target:{checked:!e.node.checked}}),o.ctx.emit("node-click",e.node.data,e.node,u,E)},I=E=>{o.instance.vnode.props.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),o.ctx.emit("node-contextmenu",E,e.node.data,e.node,u)},S=()=>{e.node.isLeaf||(a.value?(o.ctx.emit("node-collapse",e.node.data,e.node,u),e.node.collapse()):(e.node.expand(),t.emit("node-expand",e.node.data,e.node,u)))},H=(E,D)=>{e.node.setChecked(D.target.checked,!o.props.checkStrictly),ue(()=>{const T=o.store.value;o.ctx.emit("check",e.node.data,{checkedNodes:T.getCheckedNodes(),checkedKeys:T.getCheckedKeys(),halfCheckedNodes:T.getHalfCheckedNodes(),halfCheckedKeys:T.getHalfCheckedKeys()})})};return{ns:n,node$:g,tree:o,expanded:a,childNodeRendered:s,oldChecked:r,oldIndeterminate:d,getNodeKey:p,getNodeClass:w,handleSelectChange:i,handleClick:b,handleContextMenu:I,handleExpandIconClick:S,handleCheckChange:H,handleChildNodeExpand:(E,D,T)=>{l(D),o.ctx.emit("node-expand",E,D,T)},handleDragStart:E=>{o.props.draggable&&m.treeNodeDragStart({event:E,treeNode:e})},handleDragOver:E=>{E.preventDefault(),o.props.draggable&&m.treeNodeDragOver({event:E,treeNode:{$el:g.value,node:e.node}})},handleDrop:E=>{E.preventDefault()},handleDragEnd:E=>{o.props.draggable&&m.treeNodeDragEnd(E)},CaretRight:tl}}}),Ma=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],_a=["aria-expanded"];function za(e,t,n,l,o,a){const s=V("el-icon"),r=V("el-checkbox"),d=V("loading"),g=V("node-content"),m=V("el-tree-node"),u=V("el-collapse-transition");return Ie((y(),K("div",{ref:"node$",class:L([e.ns.b("node"),e.ns.is("expanded",e.expanded),e.ns.is("current",e.node.isCurrent),e.ns.is("hidden",!e.node.visible),e.ns.is("focusable",!e.node.disabled),e.ns.is("checked",!e.node.disabled&&e.node.checked),e.getNodeClass(e.node)]),role:"treeitem",tabindex:"-1","aria-expanded":e.expanded,"aria-disabled":e.node.disabled,"aria-checked":e.node.checked,draggable:e.tree.props.draggable,"data-key":e.getNodeKey(e.node),onClick:t[1]||(t[1]=re((...h)=>e.handleClick&&e.handleClick(...h),["stop"])),onContextmenu:t[2]||(t[2]=(...h)=>e.handleContextMenu&&e.handleContextMenu(...h)),onDragstart:t[3]||(t[3]=re((...h)=>e.handleDragStart&&e.handleDragStart(...h),["stop"])),onDragover:t[4]||(t[4]=re((...h)=>e.handleDragOver&&e.handleDragOver(...h),["stop"])),onDragend:t[5]||(t[5]=re((...h)=>e.handleDragEnd&&e.handleDragEnd(...h),["stop"])),onDrop:t[6]||(t[6]=re((...h)=>e.handleDrop&&e.handleDrop(...h),["stop"]))},[O("div",{class:L(e.ns.be("node","content")),style:ge({paddingLeft:(e.node.level-1)*e.tree.props.indent+"px"})},[e.tree.props.icon||e.CaretRight?(y(),M(s,{key:0,class:L([e.ns.be("node","expand-icon"),e.ns.is("leaf",e.node.isLeaf),{expanded:!e.node.isLeaf&&e.expanded}]),onClick:re(e.handleExpandIconClick,["stop"])},{default:v(()=>[(y(),M(Xe(e.tree.props.icon||e.CaretRight)))]),_:1},8,["class","onClick"])):G("v-if",!0),e.showCheckbox?(y(),M(r,{key:1,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:!!e.node.disabled,onClick:t[0]||(t[0]=re(()=>{},["stop"])),onChange:e.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):G("v-if",!0),e.node.loading?(y(),M(s,{key:2,class:L([e.ns.be("node","loading-icon"),e.ns.is("loading")])},{default:v(()=>[c(d)]),_:1},8,["class"])):G("v-if",!0),c(g,{node:e.node,"render-content":e.renderContent},null,8,["node","render-content"])],6),c(u,null,{default:v(()=>[!e.renderAfterExpand||e.childNodeRendered?Ie((y(),K("div",{key:0,class:L(e.ns.be("node","children")),role:"group","aria-expanded":e.expanded},[(y(!0),K(de,null,me(e.node.childNodes,h=>(y(),M(m,{key:e.getNodeKey(h),"render-content":e.renderContent,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,node:h,accordion:e.accordion,props:e.props,onNodeExpand:e.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,_a)),[[Ke,e.expanded]]):G("v-if",!0)]),_:1})],42,Ma)),[[Ke,e.node.visible]])}var Va=ie(Ra,[["render",za],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree-node.vue"]]);function qa({el$:e},t){const n=ae("tree"),l=dt([]),o=dt([]);Re(()=>{s()}),Mn(()=>{l.value=Array.from(e.value.querySelectorAll("[role=treeitem]")),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"))}),X(o,r=>{r.forEach(d=>{d.setAttribute("tabindex","-1")})}),An(e,"keydown",r=>{const d=r.target;if(!d.className.includes(n.b("node")))return;const g=r.code;l.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const m=l.value.indexOf(d);let u;if([Q.up,Q.down].includes(g)){if(r.preventDefault(),g===Q.up){u=m===-1?0:m!==0?m-1:l.value.length-1;const p=u;for(;!t.value.getNode(l.value[u].dataset.key).canFocus;){if(u--,u===p){u=-1;break}u<0&&(u=l.value.length-1)}}else{u=m===-1?0:m<l.value.length-1?m+1:0;const p=u;for(;!t.value.getNode(l.value[u].dataset.key).canFocus;){if(u++,u===p){u=-1;break}u>=l.value.length&&(u=0)}}u!==-1&&l.value[u].focus()}[Q.left,Q.right].includes(g)&&(r.preventDefault(),d.click());const h=d.querySelector('[type="checkbox"]');[Q.enter,Q.space].includes(g)&&h&&(r.preventDefault(),h.click())});const s=()=>{var r;l.value=Array.from(e.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),o.value=Array.from(e.value.querySelectorAll("input[type=checkbox]"));const d=e.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(d.length){d[0].setAttribute("tabindex","0");return}(r=l.value[0])==null||r.setAttribute("tabindex","0")}}const Ua=j({name:"ElTree",components:{ElTreeNode:Va},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:St}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(e,t){const{t:n}=et(),l=ae("tree"),o=$(new La({key:e.nodeKey,data:e.data,lazy:e.lazy,props:e.props,load:e.load,currentNodeKey:e.currentNodeKey,checkStrictly:e.checkStrictly,checkDescendants:e.checkDescendants,defaultCheckedKeys:e.defaultCheckedKeys,defaultExpandedKeys:e.defaultExpandedKeys,autoExpandParent:e.autoExpandParent,defaultExpandAll:e.defaultExpandAll,filterNodeMethod:e.filterNodeMethod}));o.value.initialize();const a=$(o.value.root),s=$(null),r=$(null),d=$(null),{broadcastExpanded:g}=yo(e),{dragState:m}=Pa({props:e,ctx:t,el$:r,dropIndicator$:d,store:o});qa({el$:r},o);const u=B(()=>{const{childNodes:k}=a.value;return!k||k.length===0||k.every(({visible:z})=>!z)});X(()=>e.currentNodeKey,k=>{o.value.setCurrentNodeKey(k)}),X(()=>e.defaultCheckedKeys,k=>{o.value.setDefaultCheckedKey(k)}),X(()=>e.defaultExpandedKeys,k=>{o.value.setDefaultExpandedKeys(k)}),X(()=>e.data,k=>{o.value.setData(k)},{deep:!0}),X(()=>e.checkStrictly,k=>{o.value.checkStrictly=k});const h=k=>{if(!e.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");o.value.filter(k)},p=k=>bn(e.nodeKey,k.data),w=k=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const z=o.value.getNode(k);if(!z)return[];const C=[z.data];let R=z.parent;for(;R&&R!==a.value;)C.push(R.data),R=R.parent;return C.reverse()},i=(k,z)=>o.value.getCheckedNodes(k,z),b=k=>o.value.getCheckedKeys(k),I=()=>{const k=o.value.getCurrentNode();return k?k.data:null},S=()=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const k=I();return k?k[e.nodeKey]:null},H=(k,z)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");o.value.setCheckedNodes(k,z)},_=(k,z)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");o.value.setCheckedKeys(k,z)},q=(k,z,C)=>{o.value.setChecked(k,z,C)},W=()=>o.value.getHalfCheckedNodes(),ee=()=>o.value.getHalfCheckedKeys(),ne=(k,z=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");sn(o,t.emit,()=>o.value.setUserCurrentNode(k,z))},E=(k,z=!0)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");sn(o,t.emit,()=>o.value.setCurrentNodeKey(k,z))},D=k=>o.value.getNode(k),T=k=>{o.value.remove(k)},Y=(k,z)=>{o.value.append(k,z)},te=(k,z)=>{o.value.insertBefore(k,z)},oe=(k,z)=>{o.value.insertAfter(k,z)},le=(k,z,C)=>{g(z),t.emit("node-expand",k,z,C)},F=(k,z)=>{if(!e.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");o.value.updateChildren(k,z)};return ve("RootTree",{ctx:t,props:e,store:o,root:a,currentNode:s,instance:$e()}),ve(nl,void 0),{ns:l,store:o,root:a,currentNode:s,dragState:m,el$:r,dropIndicator$:d,isEmpty:u,filter:h,getNodeKey:p,getNodePath:w,getCheckedNodes:i,getCheckedKeys:b,getCurrentNode:I,getCurrentKey:S,setCheckedNodes:H,setCheckedKeys:_,setChecked:q,getHalfCheckedNodes:W,getHalfCheckedKeys:ee,setCurrentNode:ne,setCurrentKey:E,t:n,getNode:D,remove:T,append:Y,insertBefore:te,insertAfter:oe,handleNodeExpand:le,updateKeyChildren:F}}});function Ha(e,t,n,l,o,a){var s;const r=V("el-tree-node");return y(),K("div",{ref:"el$",class:L([e.ns.b(),e.ns.is("dragging",!!e.dragState.draggingNode),e.ns.is("drop-not-allow",!e.dragState.allowDrop),e.ns.is("drop-inner",e.dragState.dropType==="inner"),{[e.ns.m("highlight-current")]:e.highlightCurrent}]),role:"tree"},[(y(!0),K(de,null,me(e.root.childNodes,d=>(y(),M(r,{key:e.getNodeKey(d),node:d,props:e.props,accordion:e.accordion,"render-after-expand":e.renderAfterExpand,"show-checkbox":e.showCheckbox,"render-content":e.renderContent,onNodeExpand:e.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),e.isEmpty?(y(),K("div",{key:0,class:L(e.ns.e("empty-block"))},[O("span",{class:L(e.ns.e("empty-text"))},ce((s=e.emptyText)!=null?s:e.t("el.tree.emptyText")),3)],2)):G("v-if",!0),Ie(O("div",{ref:"dropIndicator$",class:L(e.ns.e("drop-indicator"))},null,2),[[Ke,e.dragState.showDropIndicator]])],2)}var yt=ie(Ua,[["render",Ha],["__file","/home/runner/work/element-plus/element-plus/packages/components/tree/src/tree.vue"]]);yt.install=e=>{e.component(yt.name,yt)};const Ga=yt,ko=Ga;const ja=j({name:"FileTree",props:{itemMore:{type:Boolean,required:!1,default:!0},fileTree:{type:Object,required:!0,default:""},slotNum:{type:Number,required:!1,default:0},showLeaf:{type:Boolean,required:!1,default:!0}},emits:["nodeClick","reName","moveFloder","deleteItem","editItem"],components:{ElDropdownItem:At,ElDropdown:Lt,ElTree:ko,ElScrollbar:cn,More:ol,Link:ll,FolderOpened:sl,ElTooltip:tt},setup(e,{emit:t}){const n=se(e.fileTree),l=$(null);return Re(()=>{var o;(o=l.value)==null||o.filter(null)}),{treeData:n,treeRef:l}},methods:{nodeClick(e){console.log("show leaf",this.showLeaf),this.$emit("nodeClick",e)},reName(e){this.$emit("reName",e)},moveFloder(e){this.$emit("moveFloder",e)},deleteItem(e){this.$emit("deleteItem",e)},editItem(e){this.$emit("editItem",e)},statusColor(e){switch(e){case 0:return"rgb(140 148 136)";case 1:return"rgb(255, 200, 0)";case 2:return"rgb(125, 200, 86)";case 3:return"rgb(222, 58, 85)"}},statusText(e){switch(e){case 0:return"未下载";case 1:return"下载中";case 2:return"正常";case 3:return"失败"}},filterMethod(e,t,n){return console.log("filter",t),t.isDirectory||this.showLeaf}}});const Wa={class:"custom-tree-node"},Qa=["onClick","title"],Ya={key:0},Ja={key:0};function Xa(e,t,n,l,o,a){const s=V("Link"),r=V("FolderOpened"),d=Ce,g=tt,m=V("More"),u=At,h=Lt,p=ko;return y(),M(p,{ref:"treeRef",draggable:"","default-expand-all":"",data:e.treeData,"filter-node-method":e.filterMethod},{default:v(({node:w,data:i})=>[O("span",Wa,[c(d,null,{default:v(()=>[i.isDirectory?i.isDirectory?(y(),M(r,{key:1})):G("",!0):(y(),M(s,{key:0}))]),_:2},1024),c(g,{effect:"dark",content:e.statusText(i.status),placement:"top"},{default:v(()=>[i.isDirectory?G("",!0):(y(),K("span",{key:0,class:"point",style:ge({marginLeft:"2px",backgroundColor:e.statusColor(i.status)})},null,4))]),_:2},1032,["content"]),O("span",{style:{"margin-left":"5px",width:"100%","text-align":"left"},onClick:b=>e.nodeClick(i),title:i.name},ce(i.name),9,Qa),e.itemMore?(y(),K("span",Ya,[O("div",{onClick:t[0]||(t[0]=re(()=>{},["stop"]))},[c(h,{trigger:"click"},{dropdown:v(()=>[i.isDirectory?(y(),K("div",Ja,[(y(!0),K(de,null,me(Array(e.slotNum).fill(0).map((b,I)=>I+1),b=>(y(),M(u,null,{default:v(()=>[x(e.$slots,"dirSelection"+b)]),_:2},1024))),256))])):G("",!0),c(u,{onClick:b=>e.editItem(i)},{default:v(()=>[J("编辑")]),_:2},1032,["onClick"]),c(u,{onClick:b=>e.reName(i)},{default:v(()=>[J("重命名")]),_:2},1032,["onClick"]),c(u,{onClick:b=>e.moveFloder(i)},{default:v(()=>[J("移动至")]),_:2},1032,["onClick"]),c(u,{onClick:b=>e.deleteItem(i)},{default:v(()=>[J("删除")]),_:2},1032,["onClick"])]),default:v(()=>[c(d,null,{default:v(()=>[c(m)]),_:1})]),_:2},1024)])])):G("",!0)])]),_:3},8,["data","filter-node-method"])}const wo=_n(ja,[["render",Xa]]),Ve={getGitTree:"/api/branch/tree",addNode:"/api/branch/addNode",getGitInfo:"/api/branch/gitInfo",getBranchs:"/api/branch/getBranchs",getCommitIds:"/api/branch/getCommitIds",checkIfBranchDirExists:"/api/branch/checkIfBranchDirExists"},Za={pull:"/api/project/pull"},Qe={getTaskStatus:"/api/report/task",getDiffTaskInfos:"/api/report/list",getReports:"/api/report/taskResultDetail"},xa={callAnalysis:"/api/analysis/callAnalysis"},nn=e=>new Promise(t=>setTimeout(t,e)),ei=j({name:"Branch",computed:{Eleme(){return al}},components:{ElTooltip:tt,FileTree:wo,ElRow:Yn,ElCol:Jn,ElTable:qn,ElTableColumn:Un,ElCard:il,ElInput:fn,Search:rl,Refresh:dl,CirclePlusFilled:ul,ElDropdown:Lt,ElDropdownItem:At,ElButton:Ot,CirclePlus:cl,FolderAdd:fl,ElDialog:Hn,ElForm:Gn,ElFormItem:jn,ElSelect:fo,ElOption:po,ElTabs:go,ElTabPane:bo,ElDescriptions:Zn,ElDescriptionsItem:xn,DataAnalysis:pl,QuestionFilled:hl,ElDrawer:eo},setup(){const e=$(!1),t=se({}),n=$(0),l=$(""),o=se([]),a=$(),s=$(""),r=$(!1),d=$(!1),g=$(!1),m=$(),u=se([]),h=$(!0),p=$(),w=se({}),i=se({}),b=se({}),I=se({}),S=$(!1),H=se({}),_=se({}),q=se({}),W=$(!1),ee=se({}),ne=se([]),E=$(!1),D=se({isFirst:!0,data:[]}),T=se([]),Y=se({name:"",url:"",parentId:null,credentialsProviderId:null}),te=se({name:"",parentId:null}),oe=se({name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:0,max:200,message:"0~200个字符",trigger:"blur"}],url:[{required:!0,message:"请输入链接",trigger:"blur"}],parentId:[{required:!0,message:"请选择",trigger:"blur"}],credentialsProviderId:[],selectPath:[]});return{treeData:o,searchInput:s,addGitDialog:r,addDirDialog:d,gitForm:Y,formRules:oe,dirForm:te,selectTreeValue:u,showQuick:h,selectCredentialsProviderId:m,tmpCredentialsProviderIds:D,tabList:T,tabOn:p,gitInfos:w,compareBranch:i,branchInfos:b,commitIds:I,ruleFormRef:a,parentNodeName:l,fileKey:n,isLoading:e,pullStatus:t,selectionsLoading:S,enableSelectCommitId:H,confirmSelectBranch:_,isAnalysis:q,showDrawer:W,taskList:ee,showAnalysisResultDialog:g,reportList:ne,isLoadReport:E}},methods:{selectNode(e){this.parentNodeName=e.name,this.addGitDialog?this.gitForm.parentId=e.id:this.addDirDialog&&(this.dirForm.parentId=e.id)},searchItem(){this.tmpCredentialsProviderIds.isFirst&&(this.service.get(Sn.getCredential).then(e=>{this.tmpCredentialsProviderIds.data.splice(0,this.tmpCredentialsProviderIds.length);for(let t of e.data)this.tmpCredentialsProviderIds.data.push(t)}),this.tmpCredentialsProviderIds.isFirst=!1)},getTree(){this.service.get(Ve.getGitTree).then(e=>{this.treeData.splice(0,this.treeData.length),this.treeData.push(e.data)})},getGitInfo(e,t){this.gitInfos[e]={id:e,credentialsProvider:"未获取到",createTime:"未获取到",updateTime:"未获取到",lastSyncTime:"未获取到"},this.isLoading=!0,this.service.post(Ve.getGitInfo+"?nodeId="+e).then(n=>{this.gitInfos[e].createTime=n.data.createTime||"未获取到",this.gitInfos[e].updateTime=n.data.updateTime||"未获取到",this.gitInfos[e].path=n.data.path||"未获取到",this.gitInfos[e].lastSyncTime=n.data.lastSyncTime||"未获取到"}),this.service.post(Sn.getCredentialInfo+"?credentialId="+t).then(n=>{this.gitInfos[e].credentialsProvider=n.data||"未获取到"}),this.isLoading=!1},async getBranchInfo(e){(this.branchInfos[e]===void 0||this.branchInfos[e].length===0)&&(this.selectionsLoading=!0,await this.service.post(Ve.getBranchs+"?nodeId="+e).then(t=>{this.branchInfos[e]=t.data,this.commitIds[e]={},this.selectionsLoading=!1},t=>{this.selectionsLoading=!1,this.branchInfos[e]=[]}))},async getCommitIds(e,t){(this.commitIds[e]===void 0||this.commitIds[e][t]===void 0)&&(this.selectionsLoading=!0,console.log("get commit id"),this.commitIds[e]===void 0&&(this.commitIds[e]={}),this.service.post(Ve.getCommitIds+"?nodeId="+e+"&branchName="+t).then(n=>{this.commitIds[e][t]=[];for(let l of n.data)console.log(l),this.commitIds[e][t].push({commitId:l[0],message:l[1]});this.selectionsLoading=!1},n=>{this.selectionsLoading=!1}))},nodeClick(e){if(!e.isDirectory){this.showQuick=!1;for(let t of this.tabList)if(t.id===e.id){this.tabOn=t.id;return}this.confirmSelectBranch[e.id]=!1,this.tabList.push(e),this.tabOn=e.id,this.getGitInfo(e.id,e.credentialId),this.compareBranch[e.id]={base:"",baseCommitId:"",compare:"",compareCommitId:""},this.pullStatus[e.id]=!1,this.isAnalysis[e.id]=!1}},reflashTree(){},async newFloder(e){await(e==null?void 0:e.validate((t,n)=>{if(console.log(this.dirForm),t){let l={tree:{parentId:this.dirForm.parentId,name:this.dirForm.name,isDirectory:!0},name:this.dirForm.name,gitUrl:null,credentialsProviderId:null};this.service.post(Ve.addNode,l).then(o=>{vt({message:"添加成功",type:"success"}),this.dirForm.name="",this.dirForm.parentId=null,this.parentNodeName="",this.fileKey++,this.addDirDialog=!1,this.getTree()})}}))},async addGitProject(e){await(e==null?void 0:e.validate((t,n)=>{if(t){let l={tree:{parentId:this.gitForm.parentId,name:this.gitForm.name,isDirectory:!1},name:this.gitForm.name,gitUrl:this.gitForm.url,credentialsProviderId:this.gitForm.credentialsProviderId};this.service.post(Ve.addNode,l).then(o=>{vt({message:"添加成功",type:"success"}),this.gitForm.name="",this.gitForm.url="",this.gitForm.parentId=null,this.gitForm.credentialsProviderId=null,this.parentNodeName="",this.fileKey++,this.addGitDialog=!1,this.getTree()})}}))},reName(e){},moveFloder(e){},deleteItem(e){},editItem(e){},removeTabItem(e){console.log(e);for(let t=0;t<this.tabList.length;t++)if(this.tabList[t].id===e){e===this.tabOn&&this.tabList.length>1?(this.tabList.splice(t,1),this.tabOn=this.tabList[this.tabList.length-1].id):this.tabList.splice(t,1);break}this.tabList.length===0&&(this.showQuick=!0),this.branchInfos[e]!==void 0&&this.branchInfos[e].length>0&&this.branchInfos[e].splice(0,this.branchInfos[e].length),this.enableSelectCommitId[e]=!1},async callAnalysis(e){this.isAnalysis[e]=!0;let t;for(await this.service.post(xa.callAnalysis+"?nodeId="+e,this.compareBranch[e]).then(n=>{t=n.data},n=>{this.isAnalysis[e]=!1});this.isAnalysis[e];)this.service.get(Qe.getTaskStatus+"?taskId="+t).then(n=>{(n.data.status===2||n.data.status===3)&&(this.isAnalysis[e]=!1,vt({message:"分析完成",type:"success"}))}),await nn(2e3)},showAnalysisReport(e){this.showDrawer=!0,this.isLoading=!0,this.taskList[e]===void 0&&(this.taskList[e]=[]),this.taskList[e].length!==0&&this.taskList[e].splice(0,this.taskList[e].length),this.service.post(Qe.getDiffTaskInfos+"?nodeId="+e).then(t=>{for(let n=0;n<t.data.length;n++)this.taskList[e].push(t.data[n]);this.isLoading=!1})},statusText(e){switch(e){case 0:return"未下载";case 1:return"下载中";case 2:return"正常";case 3:return"失败"}},async pull(e){this.pullStatus[e.id]=!0;let t;for(await this.service.post(Za.pull+"?nodeId="+e.id).then(n=>{t=n.data});this.pullStatus[e.id];)this.service.get(Qe.getTaskStatus+"?taskId="+t).then(n=>{e.status=n.data.status,(n.data.status===2||n.data.status===3)&&(this.pullStatus[e.id]=!1)}),await nn(2e3)},async confirmSelectBranchs(e){this.confirmSelectBranch[e]=!0,this.compareBranch[e].base===""||this.compareBranch[e].compare===""?(vt({message:"基准分支和对比分支都要选择！",type:"error"}),this.confirmSelectBranch[e]=!1):this.service.post(Ve.checkIfBranchDirExists+"?nodeId="+e,this.compareBranch[e]).then(async t=>{if(console.log(t.data),t.data[0]!==null&&t.data[1]!==null){let n=0;for(;t.data[0]!==null?await this.service.get(Qe.getTaskStatus+"?taskId="+t.data[0]).then(l=>{(l.data.status===2||l.data.status===3)&&(n|=1)}):n|=1,t.data[1]!==null?await this.service.get(Qe.getTaskStatus+"?taskId="+t.data[1]).then(l=>{(l.data.status===2||l.data.status===3)&&(n|=2)}):n|=2,n!==3;)await nn(2e3)}this.confirmSelectBranch[e]=!1,this.enableSelectCommitId[e]=!0})},getReportDetail(e,t){this.showAnalysisResultDialog=!0,this.isLoadReport=!0,this.service.post(Qe.getReports+"?taskId="+t).then(n=>{this.reportList.splice(0,this.reportList.length);for(let l=0;l<n.data.length;l++)this.reportList.push(n.data[l])})},test(e){console.log(e)}},created(){this.getTree()}});const ti={class:"treeHead"},ni={class:"input"},oi={class:"button"},li={class:"tree"},si={key:0,class:"info"},ai={class:"quickPanel"},ii=O("h3",null,"快捷操作",-1),ri={style:{display:"flex","justify-content":"center","align-items":"center"}},di={style:{width:"100%","margin-bottom":"30px"}},ui=O("div",{style:{"border-bottom":"1px solid #ddd","margin-bottom":"20px","margin-top":"10px",padding:"0 0 20px",position:"relative",display:"flex"}},[O("span",{style:{"font-size":"16px","margin-left":"20px","font-weight":"bold"}},"基本信息")],-1),ci={style:{width:"100%","margin-bottom":"30px"}},fi=O("div",{style:{"border-bottom":"1px solid #ddd","margin-bottom":"20px","margin-top":"10px",padding:"0 0 20px",position:"relative",display:"flex"}},[O("span",{style:{"font-size":"16px","margin-left":"20px","font-weight":"bold"}},"差异分析")],-1),pi={style:{display:"flex","margin-bottom":"20px"}},hi={class:"text-span"},mi=O("div",{style:{width:"66px"}},null,-1),vi={key:0},gi={key:1,class:"text-span"},bi={style:{display:"flex","margin-bottom":"20px"}},yi={class:"text-span"},Ci=O("div",{style:{width:"66px"}},null,-1),ki={key:0,class:"text-span"},wi={style:{display:"flex","margin-bottom":"20px"}},Ei=O("div",{style:{width:"100%","margin-bottom":"30px"}},[O("div",{style:{"border-bottom":"1px solid #ddd","margin-bottom":"20px","margin-top":"10px",padding:"0 0 20px",position:"relative",display:"flex"}},[O("span",{style:{"font-size":"16px","margin-left":"20px","font-weight":"bold"}},"链路追踪")]),O("div",{style:{"margin-top":"30px"}},"开发者太懒了，这个部分还没写")],-1),Ni={class:"dialogFooter"},Ii={class:"dialogFooter"};function Si(e,t,n,l,o,a){const s=V("Search"),r=Ce,d=fn,g=V("Refresh"),m=V("CirclePlusFilled"),u=At,h=Lt,p=wo,w=Jn,i=V("CirclePlus"),b=Ot,I=V("FolderAdd"),S=xn,H=Zn,_=V("QuestionFilled"),q=tt,W=po,ee=fo,ne=V("DataAnalysis"),E=Un,D=qn,T=eo,Y=bo,te=go,oe=Yn,le=jn,F=Gn,k=Hn,z=ml;return y(),K(de,null,[c(oe,{class:"row"},{default:v(()=>[c(w,{span:9,style:{"border-style":"none solid none none","border-color":"#9d9d9d","border-width":"2px"}},{default:v(()=>[O("div",ti,[O("div",ni,[c(d,{modelValue:e.searchInput,"onUpdate:modelValue":t[0]||(t[0]=C=>e.searchInput=C),placeholder:"输入关键字搜索"},{prepend:v(()=>[c(r,null,{default:v(()=>[c(s)]),_:1})]),_:1},8,["modelValue"])]),O("div",{class:"button",onClick:t[1]||(t[1]=(...C)=>e.reflashTree&&e.reflashTree(...C))},[c(r,null,{default:v(()=>[c(g)]),_:1})]),O("div",oi,[c(h,{trigger:"click"},{dropdown:v(()=>[c(u,{onClick:t[2]||(t[2]=C=>e.addDirDialog=!0)},{default:v(()=>[J("新建目录")]),_:1}),c(u,{onClick:t[3]||(t[3]=C=>e.addGitDialog=!0)},{default:v(()=>[J("添加git项目")]),_:1})]),default:v(()=>[c(r,null,{default:v(()=>[c(m)]),_:1})]),_:1})])]),O("div",li,[c(p,{fileTree:e.treeData,onNodeClick:e.nodeClick,onReName:e.reName,onMoveFloder:e.moveFloder,onDeleteItem:e.deleteItem,onEditItem:e.editItem,"slot-num":2},{dirSelection1:v(()=>[O("div",{onClick:t[4]||(t[4]=C=>e.addGitDialog=!0)},"添加git项目")]),dirSelection2:v(()=>[O("div",{onClick:t[5]||(t[5]=C=>e.addDirDialog=!0)},"新增目录")]),_:1},8,["fileTree","onNodeClick","onReName","onMoveFloder","onDeleteItem","onEditItem"])])]),_:1}),c(w,{span:15},{default:v(()=>[e.showQuick?(y(),K("div",si,[O("div",ai,[ii,O("div",ri,[c(b,{class:"addButton",onClick:t[6]||(t[6]=C=>e.addGitDialog=!0)},{default:v(()=>[c(r,{style:{"margin-right":"5px"}},{default:v(()=>[c(i)]),_:1}),J(" 添加git项目 ")]),_:1}),c(b,{class:"addButton",onClick:t[7]||(t[7]=C=>e.addDirDialog=!0)},{default:v(()=>[c(r,{style:{"margin-right":"5px"}},{default:v(()=>[c(I)]),_:1}),J(" 新建文件夹 ")]),_:1})])])])):G("",!0),Ie((y(),M(te,{type:"border-card",closable:"",modelValue:e.tabOn,"onUpdate:modelValue":t[9]||(t[9]=C=>e.tabOn=C),onTabRemove:e.removeTabItem,style:{width:"100%",height:"100%","background-color":"white"}},{default:v(()=>[(y(!0),K(de,null,me(e.tabList,C=>(y(),M(Y,{label:C.name,name:C.id},{default:v(()=>[O("div",di,[ui,c(H,{direction:"horizontal",column:2},{default:v(()=>[c(S,{label:"名称"},{default:v(()=>[J(ce(C.name),1)]),_:2},1024),c(S,{label:"状态"},{default:v(()=>[J(ce(e.statusText(C.status)),1)]),_:2},1024),c(S,{label:"git-url"},{default:v(()=>[J(ce(C.gitUrl),1)]),_:2},1024),c(S,{label:"凭据"},{default:v(()=>[J(ce(e.gitInfos[C.id].credentialsProvider),1)]),_:2},1024),c(S,{label:"创建时间"},{default:v(()=>[J(ce(e.gitInfos[C.id].createTime),1)]),_:2},1024),c(S,{label:"更新时间"},{default:v(()=>[J(ce(e.gitInfos[C.id].updateTime),1)]),_:2},1024),c(S,{label:"上次同步时间"},{default:v(()=>[J(ce(e.gitInfos[C.id].lastSyncTime)+" ",1),c(b,{style:{"margin-left":"10px"},onClick:R=>e.pull(C),"loading-icon":e.Eleme,loading:e.pullStatus[C.id]},{default:v(()=>[e.pullStatus[C.id]?G("",!0):(y(),M(r,{key:0},{default:v(()=>[c(g)]),_:1})),J(" clone/pull ")]),_:2},1032,["onClick","loading-icon","loading"])]),_:2},1024)]),_:2},1024)]),O("div",ci,[fi,O("div",pi,[O("span",hi,[J(" 基准分支 "),c(q,{effect:"dark",content:"基准分支表示你将以此分支作为代码比对的基础",placement:"top"},{default:v(()=>[c(r,null,{default:v(()=>[c(_)]),_:1})]),_:1})]),c(ee,{modelValue:e.compareBranch[C.id].base,"onUpdate:modelValue":R=>e.compareBranch[C.id].base=R,filterable:"",placeholder:"选择基准分支",onClick:R=>e.getBranchInfo(C.id),loading:e.selectionsLoading},{default:v(()=>[(y(!0),K(de,null,me(e.branchInfos[C.id],R=>(y(),M(W,{label:R,value:R},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","loading"]),mi,e.enableSelectCommitId[C.id]?G("",!0):(y(),K("div",vi,[c(b,{type:"primary",onClick:R=>e.confirmSelectBranchs(C.id),loading:e.confirmSelectBranch[C.id]},{default:v(()=>[J("确认选择分支")]),_:2},1032,["onClick","loading"]),c(q,{effect:"dark",content:"注意：确认选择后将会copy两份代码并分别切换到基准分支和对比分支",placement:"top"},{default:v(()=>[c(r,null,{default:v(()=>[c(_,{color:"#818186"})]),_:1})]),_:1})])),e.enableSelectCommitId[C.id]?(y(),K("span",gi,[J(" 选择CommitId "),c(q,{content:"精确选择具体的commit tag，建议查看git log定位，不选则默认为最新的tag",placement:"top"},{default:v(()=>[c(r,null,{default:v(()=>[c(_)]),_:1})]),_:1})])):G("",!0),e.enableSelectCommitId[C.id]?(y(),M(ee,{key:2,modelValue:e.compareBranch[C.id].baseCommitId,"onUpdate:modelValue":R=>e.compareBranch[C.id].baseCommitId=R,filterable:"",placeholder:"选择commitId",onClick:R=>e.getCommitIds(C.id,e.compareBranch[C.id].base),loading:e.selectionsLoading},{default:v(()=>[(y(!0),K(de,null,me(e.commitIds[C.id][e.compareBranch[C.id].base],R=>(y(),M(W,{label:R.commitId,value:R.commitId,title:R.message},null,8,["label","value","title"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","loading"])):G("",!0)]),O("div",bi,[O("span",yi,[J(" 对比分支 "),c(q,{effect:"dark",content:"对比分支表示你将以此分支作为代码变更后的新版本，最终分析结果表示的是对比分支相对于基准分支存在哪些改动",placement:"top"},{default:v(()=>[c(r,null,{default:v(()=>[c(_)]),_:1})]),_:1})]),c(ee,{modelValue:e.compareBranch[C.id].compare,"onUpdate:modelValue":R=>e.compareBranch[C.id].compare=R,filterable:"",placeholder:"选择对比分支",onClick:R=>e.getBranchInfo(C.id),loading:e.selectionsLoading},{default:v(()=>[(y(!0),K(de,null,me(e.branchInfos[C.id],R=>(y(),M(W,{label:R,value:R},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","loading"]),Ci,e.enableSelectCommitId[C.id]?(y(),K("span",ki,[J(" 选择CommitId "),c(q,{effect:"dark",content:"精确选择具体的commit tag，建议查看git log定位，不选则默认为最新的tag",placement:"top"},{default:v(()=>[c(r,null,{default:v(()=>[c(_)]),_:1})]),_:1})])):G("",!0),e.enableSelectCommitId[C.id]?(y(),M(ee,{key:1,modelValue:e.compareBranch[C.id].compareCommitId,"onUpdate:modelValue":R=>e.compareBranch[C.id].compareCommitId=R,filterable:"",placeholder:"选择commitId",onClick:R=>e.getCommitIds(C.id,e.compareBranch[C.id].compare),loading:e.selectionsLoading},{default:v(()=>[(y(!0),K(de,null,me(e.commitIds[C.id][e.compareBranch[C.id].compare],R=>(y(),M(W,{label:R.commitId,value:R.commitId,title:R.message},null,8,["label","value","title"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","onClick","loading"])):G("",!0)]),O("div",wi,[c(b,{onClick:R=>e.callAnalysis(C.id),type:"primary",loading:e.isAnalysis[C.id]},{default:v(()=>[J(" 执行分析 ")]),_:2},1032,["onClick","loading"]),c(b,{onClick:R=>e.showAnalysisReport(C.id)},{default:v(()=>[c(r,null,{default:v(()=>[c(ne)]),_:1}),J(" 查看分析结果 ")]),_:2},1032,["onClick"])]),c(T,{modelValue:e.showDrawer,"onUpdate:modelValue":t[8]||(t[8]=R=>e.showDrawer=R),title:"分析报告",direction:"rtl",size:"50%"},{default:v(()=>[c(D,{data:e.taskList[C.id]},{default:v(()=>[c(E,{property:"createTime",label:"时间",width:"200"}),c(E,{property:"id",label:"Id",width:"80"}),c(E,{property:"detailInfo",label:"任务详情",width:"800"}),c(E,{fixed:"right",label:"操作",width:"120"},{default:v(R=>[c(b,{type:"success",onClick:De=>e.getReportDetail(C.id,R.row.id)},{default:v(()=>[J(" 查看详情 ")]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1032,["data"])]),_:2},1032,["modelValue"])]),Ei]),_:2},1032,["label","name"]))),256))]),_:1},8,["modelValue","onTabRemove"])),[[z,e.isLoading]])]),_:1})]),_:1}),c(k,{modelValue:e.addGitDialog,"onUpdate:modelValue":t[16]||(t[16]=C=>e.addGitDialog=C),style:{"margin-top":"15vh",width:"600px"}},{header:v(()=>[J("添加git项目")]),footer:v(()=>[O("span",Ni,[c(b,{onClick:t[14]||(t[14]=C=>e.addGitDialog=!1)},{default:v(()=>[J("取消")]),_:1}),c(b,{type:"primary",onClick:t[15]||(t[15]=C=>e.addGitProject(e.ruleFormRef))},{default:v(()=>[J("确定")]),_:1})])]),default:v(()=>[c(F,{ref:"ruleFormRef",model:e.gitForm,style:{display:"flex","flex-wrap":"wrap"},"label-position":"right",rules:e.formRules},{default:v(()=>[c(le,{label:"项目名称",class:"formItem","label-width":"80",prop:"name"},{default:v(()=>[c(d,{modelValue:e.gitForm.name,"onUpdate:modelValue":t[10]||(t[10]=C=>e.gitForm.name=C)},null,8,["modelValue"])]),_:1}),c(le,{label:"Git路径",class:"formItem","label-width":"80",prop:"url"},{default:v(()=>[c(d,{modelValue:e.gitForm.url,"onUpdate:modelValue":t[11]||(t[11]=C=>e.gitForm.url=C)},null,8,["modelValue"])]),_:1}),c(le,{label:"选择凭据",class:"formItem","label-width":"80",prop:"credentialsProviderId"},{default:v(()=>[c(ee,{modelValue:e.gitForm.credentialsProviderId,"onUpdate:modelValue":t[12]||(t[12]=C=>e.gitForm.credentialsProviderId=C),style:{width:"500px"},onClick:e.searchItem},{default:v(()=>[(y(!0),K(de,null,me(e.tmpCredentialsProviderIds.data,C=>(y(),M(W,{label:C.name,value:C.id},null,8,["label","value"]))),256))]),_:1},8,["modelValue","onClick"])]),_:1}),c(le,{label:"选择路径",class:"formItem","label-width":"80",prop:"parentId"},{default:v(()=>[c(ee,{modelValue:e.gitForm.parentId,"onUpdate:modelValue":t[13]||(t[13]=C=>e.gitForm.parentId=C),style:{width:"500px"}},{default:v(()=>[(y(),M(W,{value:e.gitForm.parentId,key:e.gitForm.parentId,label:e.parentNodeName,style:{height:"auto"}},{default:v(()=>[(y(),M(p,{key:e.fileKey,"file-tree":e.treeData,"item-more":!1,onNodeClick:e.selectNode,"show-leaf":!1},null,8,["file-tree","onNodeClick"]))]),_:1},8,["value","label"]))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),c(k,{modelValue:e.addDirDialog,"onUpdate:modelValue":t[21]||(t[21]=C=>e.addDirDialog=C),style:{"margin-top":"15vh",width:"600px"}},{header:v(()=>[J("新建文件夹")]),footer:v(()=>[O("span",Ii,[c(b,{onClick:t[19]||(t[19]=C=>e.addDirDialog=!1)},{default:v(()=>[J("取消")]),_:1}),c(b,{type:"primary",onClick:t[20]||(t[20]=C=>e.newFloder(e.ruleFormRef))},{default:v(()=>[J("确定")]),_:1})])]),default:v(()=>[c(F,{ref:"ruleFormRef",model:e.dirForm,style:{display:"flex","flex-wrap":"wrap"},"label-position":"right",rules:e.formRules},{default:v(()=>[c(le,{label:"名称",class:"formItem","label-width":"80",prop:"name"},{default:v(()=>[c(d,{modelValue:e.dirForm.name,"onUpdate:modelValue":t[17]||(t[17]=C=>e.dirForm.name=C)},null,8,["modelValue"])]),_:1}),c(le,{label:"选择路径",class:"formItem","label-width":"80",prop:"parentId"},{default:v(()=>[c(ee,{modelValue:e.dirForm.parentId,"onUpdate:modelValue":t[18]||(t[18]=C=>e.dirForm.parentId=C),style:{width:"500px"}},{default:v(()=>[(y(),M(W,{value:e.dirForm.parentId,key:e.dirForm.parentId,label:e.parentNodeName,style:{height:"auto"}},{default:v(()=>[(y(),M(p,{key:e.fileKey,"file-tree":e.treeData,"item-more":!1,onNodeClick:e.selectNode,"show-leaf":!1},null,8,["file-tree","onNodeClick"]))]),_:1},8,["value","label"]))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"]),c(k,{modelValue:e.showAnalysisResultDialog,"onUpdate:modelValue":t[22]||(t[22]=C=>e.showAnalysisResultDialog=C),style:{"margin-top":"15vh",width:"1200px","max-height":"900px"},title:"涉及代码改动的API"},{default:v(()=>[c(D,{loading:e.isLoadReport,data:e.reportList,stripe:"",style:{width:"1200px"},"max-height":"800"},{default:v(()=>[c(E,{prop:"type",label:"类型",width:"80"}),c(E,{prop:"apiName",label:"API"})]),_:1},8,["loading","data"])]),_:1},8,["modelValue"])],64)}const Fi=_n(ei,[["render",Si]]);export{Fi as default};
